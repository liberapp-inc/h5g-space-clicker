var __reflect=this&&this.__reflect||function(t,e,o){t.__class__=e,o?o.push(e):o=[e],t.__types__=t.__types__?o.concat(t.__types__):o},__extends=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);o.prototype=e.prototype,t.prototype=new o},GameObject=function(){function t(){this.shape=null,this.mask=null,this.destroyFlag=!1,t.objects.push(this)}return t.initial=function(e){t.objects=[],t.display=e},t.update=function(){t.objects.forEach(function(t){return t.updateContent()}),t.objects=t.objects.filter(function(t){return t.destroyFlag&&t["delete"](),!t.destroyFlag}),t.transit&&(t.allDestroy(),t.transit(),t.transit=null)},t.allDestroy=function(){t.objects=t.objects.filter(function(t){return t.destroy(),t["delete"](),!1})},t.prototype.destroy=function(){this.destroyFlag=!0},t.prototype.addDestroyMethod=function(){},t.prototype["delete"]=function(){this.addDestroyMethod(),this.shape&&(t.display.removeChild(this.shape),this.shape=null)},t.objects=[],t}();__reflect(GameObject.prototype,"GameObject");var PhysicsObject=function(t){function e(){var e=t.call(this)||this;return e.body=null,e.bodyShape=null,e}return __extends(e,t),e.prototype.addDestroyMethod=function(){CreateWorld.world.removeBody(this.body)},e.world=null,e}(GameObject);__reflect(PhysicsObject.prototype,"PhysicsObject");var Main=function(t){function e(){var e=t.call(this)||this;return e.once(egret.Event.ADDED_TO_STAGE,e.addToStage,e),e}return __extends(e,t),e.prototype.addToStage=function(){GameObject.initial(this.stage),Util.init(this),Game.init(),egret.startTick(this.tickLoop,this)},e.prototype.tickLoop=function(t){return GameObject.update(),!1},e}(eui.UILayer);__reflect(Main.prototype,"Main");var Game=function(){function t(){}return t.init=function(){this.height=egret.MainContext.instance.stage.stageHeight,this.width=egret.MainContext.instance.stage.stageWidth,new Background,new GameScene,new Money,new BulletDamageButton(t.width/3,t.height/1.1,t.width/4,t.height/10.5,Util.color(255,0,0),"Attack"),new Kill,new CheckDate,new Player(t.width/2,t.height/1.25,t.width/3.4,t.height/8,Util.color(255,0,0))},t}();__reflect(Game.prototype,"Game");var Background=function(t){function e(){var e=t.call(this)||this;return e.shape=new egret.Shape,e.shape.graphics.beginFill(Util.color(0,0,0)),e.shape.graphics.drawRect(0,0,Game.width,Game.height),e.shape.graphics.endFill(),GameObject.display.addChild(e.shape),e}return __extends(e,t),e.prototype.updateContent=function(){},e}(GameObject);__reflect(Background.prototype,"Background");var CreateWorld=function(t){function e(){var o=t.call(this)||this;return e.I=o,e.world.on("beginContact",o.collision,o),o}return __extends(e,t),e.prototype.createWorld=function(){e.world=new p2.World,e.world.sleepMode=p2.World.BODY_SLEEPING,e.world.gravity=[0,9.8]},e.worldBegin=function(t){return e.world.step(1/60,t/1e3,10),!1},e.prototype.collision=function(t){},e.prototype.addDestroyMethod=function(){e.world.clear()},e.prototype.updateContent=function(){},e.I=null,e}(PhysicsObject);__reflect(CreateWorld.prototype,"CreateWorld");var Bullet=function(t){function e(e,o,i,n,a){var s=t.call(this)||this;return s.object=null,s.collisionFlag=!1,s.setObject(e,o,i,n),s.setShape(e,o,i,n,a),s.object.scaleX=.5,s.object.scaleY=.5,s}return __extends(e,t),e.prototype.setObject=function(t,e,o,i){this.object=new egret.DisplayObjectContainer,this.object.anchorOffsetX+=o/2,this.object.x=t,this.object.y=e,this.object.width=o,this.object.height=i,GameObject.display.addChild(this.object)},e.prototype.setShape=function(t,e,o,i,n){this.shape&&GameObject.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.x=0,this.shape.y=0,this.shape.graphics.beginFill(n),this.shape.graphics.drawRect(0,0,o,i),this.shape.graphics.endFill(),this.object.addChild(this.shape)},e.prototype["delete"]=function(){this.shape&&GameObject.display.removeChild(this.object)},e.prototype.updateContent=function(){},e}(GameObject);__reflect(Bullet.prototype,"Bullet");var CheckDate=function(t){function e(){var o=t.call(this)||this;return o.text=null,o.textColor=16777215,o.s=0,e.I=o,o.getDate(),e.dateTimer=new egret.Timer(e.dateInterval,0),e.dateTimer.addEventListener(egret.TimerEvent.TIMER,o.save,o),e.dateTimer.start(),o}return __extends(e,t),e.prototype.getDate=function(){var t=window.localStorage.getItem("getLastDate");(null==t||void 0==t)&&(t=(new Date).getTime().toString(),window.localStorage.setItem("getLastDate",t));var e=parseInt(t),o=new Date;this.s=(o.getTime()-e)/1e3,this.s=parseInt(this.s.toString()),Money.I.money+=this.s*Player.salary,t=(new Date).getTime().toString(),window.localStorage.setItem("getLastDate",t),e=parseInt(t),this.s=(o.getTime()-e)/1e3,this.s=parseInt(this.s.toString()),this.text=Util.myText(Game.width/1.4,0,"saving...",80,.5,this.textColor,!0),this.text.alpha=0,GameObject.display.addChild(this.text)},e.prototype.save=function(){e.timerCounter+=1,this.salary(),this.autoSaveText()},e.prototype.updateContent=function(){},e.prototype.salary=function(){Money.I.money+=Player.salary,e.timerCounter>=10&&window.localStorage.setItem("money",Money.I.money.toString())},e.prototype.autoSaveText=function(){if(e.timerCounter>=10){var t=(new Date).getTime().toString();window.localStorage.setItem("getLastDate",t),e.timerCounter=0,MyTween.autoSaveTextFadeInOut(this.text)}},e.I=null,e.dateTimer=null,e.dateInterval=1e3,e.timerCounter=0,e}(GameObject);__reflect(CheckDate.prototype,"CheckDate");var DropItem;!function(t){t[t.NONE=0]="NONE",t[t.A=1]="A",t[t.B=2]="B"}(DropItem||(DropItem={}));var Enemy=function(t){function e(e,o,i,n){var a=t.call(this)||this;return a.object=null,a.dropMoney=10,a.hp=0,a.hpTextField=null,a.hpTextFieldColor=16711680,a.deadFlag=!1,a.setObject(e,o,i,n),a}return __extends(e,t),e.prototype.setObject=function(t,e,o,i){0>=o?(o=1,console.log("widthが0以下です")):0>=i&&(i=1,console.log("heightが0以下です")),this.object=new egret.DisplayObjectContainer,this.object.width=o,this.object.height=i,this.object.anchorOffsetX+=o/2,this.object.anchorOffsetY+=i/2,this.object.x=t,this.object.y=e,GameObject.display.addChild(this.object)},e.prototype.setHpText=function(t,e,o,i){this.hpTextField=Util.myText(0,0,this.hp.toString(),100,.5,this.hpTextFieldColor,!0),this.hpTextField.width=this.object.width,this.hpTextField.height=this.object.height,this.hpTextField.anchorOffsetX+=this.hpTextField.width/2,this.hpTextField.anchorOffsetY+=this.hpTextField.height/2,this.hpTextField.x=0,this.hpTextField.y=0,this.object.addChild(this.hpTextField)},e.prototype.addDestroyMethod=function(){Money.I.money+=this.dropMoney},e.prototype.updateContent=function(){this.hpTextField.text=this.hp.toString()},e.prototype["delete"]=function(){this.shape&&GameObject.display.removeChild(this.object)},e}(GameObject);__reflect(Enemy.prototype,"Enemy");var RectEnemy=function(t){function e(e,o,i,n,a,s,r){var h=t.call(this,e,o,i,n)||this;return h.setShape(e,o,i,n,a),h.hp=s,h.dropMoney=r,h.setHpText(e,o,i,n),h}return __extends(e,t),e.prototype.setShape=function(t,e,o,i,n){this.shape&&GameObject.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.x=0,this.shape.y=0,this.shape.graphics.beginFill(n),this.shape.graphics.drawRect(0,0,o,i),this.shape.graphics.endFill(),this.object.addChild(this.shape)},e}(Enemy);__reflect(RectEnemy.prototype,"RectEnemy");var CircleEnemy=function(t){function e(e,o,i,n,a,s,r,h){var l=t.call(this,e,o,i,n)||this;return l.setShape(e,o,a,s),l.hp=r,l.dropMoney=h,l.setHpText(e,o,i,n),l}return __extends(e,t),e.prototype.setShape=function(t,e,o,i){this.shape&&GameObject.display.removeChild(this.shape),0>=o&&(o=1,console.log("radiusが0以下です")),this.shape=new egret.Shape,this.shape.x=this.object.anchorOffsetX,this.shape.y=this.object.anchorOffsetY,this.shape.graphics.beginFill(i),this.shape.graphics.drawCircle(0,0,o),this.shape.graphics.endFill(),this.object.addChild(this.shape)},e}(Enemy);__reflect(CircleEnemy.prototype,"CircleEnemy");var Ball=function(t){function e(e,o,i){var n=t.call(this)||this;return n.radius=null,n.setShape(e,o,i),n}return __extends(e,t),e.prototype.setShape=function(t,e,o){this.shape&&GameObject.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.x=t,this.shape.y=e,this.shape.graphics.beginFill(16711680),this.shape.graphics.drawCircle(0,0,o),this.shape.graphics.endFill(),GameObject.display.addChild(this.shape)},e.prototype.updateContent=function(){},e.I=null,e}(GameObject);__reflect(Ball.prototype,"Ball");var PhysicsBall=function(t){function e(e,o,i){var n=t.call(this)||this;return n.radius=null,n.setBody(e,o,i),n.setShape(e,o,i),n}return __extends(e,t),e.prototype.setBody=function(t,e,o){this.body=new p2.Body({mass:1,position:[t,e]}),this.bodyShape=new p2.Circle({radius:o,fixedRotation:!0}),this.body.addShape(this.bodyShape),CreateWorld.world.addBody(this.body)},e.prototype.setShape=function(t,e,o){this.shape&&GameObject.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.x=t,this.shape.y=e,this.shape.graphics.beginFill(16711680),this.shape.graphics.drawCircle(0,0,o),this.shape.graphics.endFill(),GameObject.display.addChild(this.shape)},e}(PhysicsObject);__reflect(PhysicsBall.prototype,"PhysicsBall");var MyBall=function(t){function e(e,o,i){var n=t.call(this,e,o,i)||this;return Ball.I=n,n}return __extends(e,t),e}(Ball);__reflect(MyBall.prototype,"MyBall");var GameOver=function(t){function e(){var e=t.call(this)||this;return e.textGameOver=null,e.textScore=null,e.textColor=65339,e.textGameOver=Util.myText(Game.width/2,Game.height/2-50,"GAME OVER",100,.5,e.textColor,!0),e.textGameOver.anchorOffsetX=e.textGameOver.width/2,e.textGameOver.anchorOffsetY=e.textGameOver.height/2,GameObject.display.addChild(e.textGameOver),e.textScore=Util.myText(Game.width/2,Game.height/2+50,"SCORE : "+Score.I.score,100,.5,e.textColor,!0),e.textScore.anchorOffsetX=e.textScore.width/2,e.textScore.anchorOffsetY=e.textScore.height/2,GameObject.display.addChild(e.textScore),Score.I.score>=Score.I.bestScore&&window.localStorage.setItem("bestScore",Score.I.score.toFixed()),GameObject.display.once(egret.TouchEvent.TOUCH_TAP,function(t){return e.tap(t)},e),e}return __extends(e,t),e.prototype.onDestroy=function(){GameObject.display.removeChild(this.textGameOver),this.textGameOver=null,GameObject.display.removeChild(this.textScore),this.textScore=null},e.prototype.updateContent=function(){GameObject.display.addChild(this.textGameOver),GameObject.display.addChild(this.textScore)},e.prototype.tap=function(t){GameObject.transit=Game.init,this.destroy()},e}(GameObject);__reflect(GameOver.prototype,"GameOver");var RandomEnemy;!function(t){t[t.NONE=0]="NONE",t[t.RECT=1]="RECT",t[t.CIRCLE=2]="CIRCLE",t[t.TRIANGLE=3]="TRIANGLE"}(RandomEnemy||(RandomEnemy={}));var GameScene=function(t){function e(){var e=t.call(this)||this;return e.createStage(),e}return __extends(e,t),e.prototype.createStage=function(){e.createEnemy()},e.createEnemy=function(){var t=Util.randomInt(RandomEnemy.RECT,RandomEnemy.CIRCLE);switch(t){case RandomEnemy.RECT:var o=new RectEnemy(Game.width/2,Game.height/4,Game.width/4,Game.height/6,Util.color(0,0,255),3,10);e.enemy.push(o);break;case RandomEnemy.CIRCLE:var i=Game.width/6,n=i,a=i,s=new CircleEnemy(Game.width/2,Game.height/4,n,a,i,Util.color(0,0,255),3,10);e.enemy.push(s)}},e.prototype.addDestroyMethod=function(){},e.prototype.updateContent=function(){},e.enemy=[],e}(GameObject);__reflect(GameScene.prototype,"GameScene");var Box=function(t){function e(e,o,i,n,a){var s=t.call(this)||this;return s.setShape(e,o,i,n,a),s}return __extends(e,t),e.prototype.setShape=function(t,e,o,i,n){this.shape&&GameObject.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.anchorOffsetX+=o/2,this.shape.anchorOffsetY+=i/2,this.shape.x=t,this.shape.y=e,this.shape.graphics.beginFill(n),this.shape.graphics.drawRect(0,0,o,i),this.shape.graphics.endFill(),GameObject.display.addChild(this.shape)},e}(GameObject);__reflect(Box.prototype,"Box");var PhysicsBox=function(t){function e(e,o,i,n,a){var s=t.call(this)||this;return s.x=e,s.y=o,s.width=i,s.height=n,s.color=a,s.setShape(s.width,s.height),s}return __extends(e,t),e.prototype.setBody=function(t,e,o,i){this.body=new p2.Body({mass:1,position:[t,e],type:p2.Body.STATIC}),this.bodyShape=new p2.Box({width:o,height:i}),this.body.addShape(this.bodyShape),CreateWorld.world.addBody(this.body)},e.prototype.setShape=function(t,e){this.shape&&GameObject.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.anchorOffsetX+=t/2,this.shape.anchorOffsetY+=e/2,this.shape.x=this.body.position[0],this.shape.y=this.body.position[1],this.shape.graphics.beginFill(this.color),this.shape.graphics.drawRect(0,0,t,e),this.shape.graphics.endFill(),GameObject.display.addChild(this.shape)},e}(PhysicsObject);__reflect(PhysicsBox.prototype,"PhysicsBox");var MyBox=function(t){function e(e,o,i,n,a){return t.call(this,e,o,i,n,a)||this}return __extends(e,t),e.prototype.updateContent=function(){},e}(Box);__reflect(MyBox.prototype,"MyBox");var Player=function(t){function e(o,i,n,a,s){var r=t.call(this)||this;return e.I=r,r.setPlayerObject(o,i,n,a),r.setShape(o,i,n,a,s),e.object.scaleX=e.object.scaleY=.4,e.shotTimer=new egret.Timer(e.shotInterval,0),e.shotTimer.addEventListener(egret.TimerEvent.TIMER,r.shot,r),e.shotTimer.start(),r}return __extends(e,t),e.prototype.setPlayerObject=function(t,o,i,n){e.object=new egret.DisplayObjectContainer,e.object.anchorOffsetX+=i/2,e.object.x=t,e.object.y=o,e.object.width=i,e.object.height=n,GameObject.display.addChild(e.object)},e.prototype.setShape=function(t,o,i,n,a){this.shape&&GameObject.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.x=0,this.shape.y=0,this.shape.graphics.beginFill(a),this.shape.graphics.drawRect(0,0,i,n),this.shape.graphics.endFill();var s=this.setMask(this.shape.x,this.shape.y,this.shape.width/3,this.shape.height/2,Util.color(0,0,0)),r=this.setMask(this.shape.x+2*this.shape.width/3,this.shape.y,this.shape.width/3,this.shape.height/2,Util.color(0,0,0));e.object.addChild(this.shape),e.object.addChild(s),e.object.addChild(r)},e.prototype.setMask=function(t,e,o,i,n){var a=new egret.Shape;return a.x=t,a.y=e,a.graphics.beginFill(n),a.graphics.drawRect(0,0,o,i),a.graphics.endFill(),a},e.prototype.shot=function(){var t=new Bullet(Game.width/2,Game.height/1.35,Game.width/12,Game.height/12,Util.color(255,255,0));e.bullet.push(t)},e.prototype.updateContent=function(){e.bullet.forEach(function(t){t.object.y-=e.bulletMoveSpeed,t.object.y<0&&t.destroy(),GameScene.enemy.forEach(function(o){0==t.collisionFlag&&o.object.y>=t.object.y&&0==o.deadFlag&&(o.hp-=e.bulletDamage,MyTween.knockBack(o.object),t.destroy(),t.collisionFlag=!0,o.hp<=0&&(o.hp=0,o.deadFlag=!0,Money.addMoney(o.dropMoney),new DropMoney(0,0,"+ "+o.dropMoney.toString()+" Money",80,.5,16711680,!0,o.object),MyTween.enemyFadeOut(o.object,o),Kill.I.addKill()))})})},e.I=null,e.object=null,e.shotTimer=null,e.shotInterval=1e3,e.bullet=[],e.bulletDamage=1,e.bulletMoveSpeed=5,e.salary=1,e}(GameObject);__reflect(Player.prototype,"Player");var Tween=function(t){function e(){var e=t.call(this)||this;e.object=null;var o=new egret.Shape;return o.graphics.beginFill(16711680),o.graphics.drawRect(0,0,100,100),o.graphics.endFill(),o.x=o.y=400,GameObject.display.addChild(o),egret.Tween.get(o,{loop:!0,onChange:e.onChange,onChangeObj:e}).to({rotation:360},1e3).call(e.onComplete,e,["param1",{key:"key",value:3}]),e}return __extends(e,t),e.prototype.onChange=function(){},e.prototype.onComplete=function(t,e){},e}(egret.DisplayObjectContainer);__reflect(Tween.prototype,"Tween");var MyTween=function(){function t(){}return t.fadeOut=function(t,e){void 0==e&&(e=null),egret.Tween.get(t).to({alpha:.5},1e3).call(function(){egret.Tween.removeTweens(t),(void 0!=e||null!=e)&&e.destroy()})},t.enemyFadeOut=function(t,e){void 0==e&&(e=null),egret.Tween.get(t).to({alpha:.2},1e3).call(function(){egret.Tween.removeTweens(t),(void 0!=e||null!=e)&&(e.destroy(),GameScene.createEnemy())})},t.knockBack=function(t){var e=t.y;egret.Tween.get(t).to({y:e-50},100,egret.Ease.elasticIn).to({y:e},200,egret.Ease.sineIn)},t.dropMoneyTextFadeOut=function(t,e){void 0==e&&(e=null);var o=t.y;egret.Tween.get(t).to({y:o-100},100).to({alpha:.2},900).call(function(){egret.Tween.removeTweens(t),(void 0!=e||null!=e)&&e.destroy()})},t.autoSaveTextFadeInOut=function(t,e){void 0==e&&(e=null),t.alpha=0,egret.Tween.get(t).to({alpha:1},10).wait(2e3).to({alpha:0},2e3).call(function(){egret.Tween.removeTweens(t)})},t}();__reflect(MyTween.prototype,"MyTween");var Util=function(){function t(){}return t.init=function(t){this.height=t.stage.stageHeight,this.width=t.stage.stageWidth,this.ui=t},t.random=function(t,e){return t+Math.random()*(e-t)},t.randomInt=function(t,e){return Math.floor(t+Math.random()*(e+.999-t))},t.clamp=function(t,e,o){return e>t&&(t=e),t>o&&(t=o),t},t.color=function(t,e,o){var i=t.toFixed(0),n=e.toFixed(0),a=o.toFixed(0);i=t.toString(16),n=e.toString(16),a=o.toString(16),i=("00"+i).slice(-2),n=("00"+n).slice(-2),a=("00"+a).slice(-2);var s=parseInt("0x"+i+n+a,16);return s},t.myText=function(t,e,o,i,n,a,s){var r=new egret.TextField;return r.x=t,r.y=e,r.text=o,r.bold=s,r.size=i,r.scaleX=n,r.scaleY=n,r.textColor=a,r.multiline=!0,r},t.myStrokeText=function(t,e,o,i,n,a,s,r,h){var l=new egret.TextField;return l.x=t,l.y=e,l.scaleX=n,l.scaleY=n,l.textFlow=[{text:o,style:{textColor:a,size:i,fontFamily:s,strokeColor:r,stroke:h}}],l},t}();__reflect(Util.prototype,"Util");var Button=function(t){function e(e,o,i,n,a){var s=t.call(this)||this;return s.object=null,s.indexText=null,s.indexTextColor=16777215,s.parameter=0,s.parameterText=null,s.parameterTextColor=16777215,s.setObject(e,o,i,n),s}return __extends(e,t),e.prototype.setObject=function(t,e,o,i){0>=o?(o=1,console.log("widthが0以下です")):0>=i&&(i=1,console.log("heightが0以下です")),this.object=new egret.DisplayObjectContainer,this.object.width=o,this.object.height=i,this.object.anchorOffsetX+=o/2,this.object.anchorOffsetY+=i/2,this.object.x=t,this.object.y=e,GameObject.display.addChild(this.object)},e.prototype.setIndexText=function(t,e,o,i,n){this.indexText=Util.myText(t,e,n,60,.5,this.indexTextColor,!1),this.indexText.textAlign=egret.HorizontalAlign.CENTER,this.indexText.verticalAlign=egret.VerticalAlign.MIDDLE,this.indexText.width=this.object.width,this.indexText.height=this.object.height,this.indexText.anchorOffsetX+=this.object.width/2,this.indexText.anchorOffsetY+=this.object.height/2,this.indexText.x=this.object.width/2,this.indexText.y=this.object.height/2,this.object.addChild(this.indexText)},e.prototype.setParameterText=function(t,e,o,i,n){this.parameterText=Util.myText(t,e,n.toString(),100,.5,this.parameterTextColor,!1),this.parameterText.width=this.object.width,this.parameterText.height=this.object.height,this.object.addChild(this.parameterText)},e.prototype["delete"]=function(){this.shape&&GameObject.display.removeChild(this.object)},e}(GameObject);__reflect(Button.prototype,"Button");var BulletDamageButton=function(t){function e(e,o,i,n,a,s){var r=t.call(this,e,o,i,n,s)||this;return r.setShape(e,o,i,n,a),r.setIndexText(0,0,5*i,n,s),r.setParameterText(e,o+50,i,n,Player.bulletDamage),r}return __extends(e,t),e.prototype.setShape=function(t,e,o,i,n){this.shape&&GameObject.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.x=0,this.shape.y=0,this.shape.graphics.beginFill(n),this.shape.graphics.drawRoundRect(0,0,o,i,30),this.shape.graphics.endFill(),this.object.addChild(this.shape)},e.prototype.updateContent=function(){this.parameterText.text=Player.bulletDamage.toString()},e}(Button);__reflect(BulletDamageButton.prototype,"BulletDamageButton");var Kill=function(t){function e(){var o=t.call(this)||this;o.kill=0,o.text=null,o.textColor=65339,e.I=o,o.textColor=Util.color(0,255,0);var i=window.localStorage.getItem("kill");return null==i&&(i="0",window.localStorage.setItem("kill",i)),o.kill=parseInt(i),o.text=Util.myText(0,50,"KILL : "+o.kill.toString()+" / 1000",100,.5,o.textColor,!0),GameObject.display.addChild(o.text),o}return __extends(e,t),e.prototype.onDestroy=function(){GameObject.display.removeChild(this.text),this.text=null},e.prototype.updateContent=function(){this.text.text="KILL : "+this.kill.toString()+" / 1000"},e.prototype.addKill=function(){this.kill+=1,window.localStorage.setItem("kill",this.kill.toString())},e.I=null,e}(GameObject);__reflect(Kill.prototype,"Kill");var Money=function(t){function e(){var o=t.call(this)||this;o.money=0,o.bestMoney=0,o.text=null,o.textBest=null,o.textColor=65339,o.textColor=Util.color(0,255,0),e.I=o;var i=window.localStorage.getItem("money");return null==i&&(i="0",window.localStorage.setItem("money",i)),o.money=parseInt(i),o.text=Util.myText(0,0,"MONEY : 0",100,.5,o.textColor,!0),GameObject.display.addChild(o.text),o}return __extends(e,t),e.prototype.onDestroy=function(){GameObject.display.removeChild(this.text),this.text=null},e.prototype.updateContent=function(){this.text.text="MONEY : "+this.money.toFixed()},e.addMoney=function(t){e.I.money+=t,window.localStorage.setItem("money",e.I.money.toString())},e.I=null,e}(GameObject);__reflect(Money.prototype,"Money");var DropMoney=function(t){function e(e,o,i,n,a,s,r,h){var l=t.call(this)||this;return l.text=null,l.textColor=65339,l.textColor=Util.color(0,255,0),l.text=Util.myText(e,o,i,n,a,s,!0),l.text.anchorOffsetX=l.text.width/2,l.text.anchorOffsetY=l.text.height/2,h.addChild(l.text),MyTween.dropMoneyTextFadeOut(l.text,l),l}return __extends(e,t),e.prototype.onDestroy=function(){},e.prototype.updateContent=function(){},e}(GameObject);__reflect(DropMoney.prototype,"DropMoney");var Score=function(t){function e(){var o=t.call(this)||this;o.score=0,o.bestScore=0,o.text=null,o.textBest=null,o.textColor=65339,o.textColor=Util.color(0,255,0),e.I=o,o.score=0,o.text=Util.myText(0,0,"SCORE : 0",100,.5,o.textColor,!0),GameObject.display.addChild(o.text);var i=window.localStorage.getItem("bestScore");return null==i&&(i="0",window.localStorage.setItem("bestScore",i)),o.bestScore=parseInt(i),o.textBest=Util.myText(0,50,"BEST : "+i,100,.5,o.textColor,!0),GameObject.display.addChild(o.textBest),o}return __extends(e,t),e.prototype.onDestroy=function(){GameObject.display.removeChild(this.text),this.text=null,GameObject.display.removeChild(this.textBest),this.textBest=null},e.prototype.updateContent=function(){this.text.text="SCORE : "+this.score.toFixed(),this.bestScore<this.score&&(this.bestScore=this.score,this.textBest.text="BEST : "+this.score.toFixed())},e.prototype.addScore=function(){this.score+=1},e.I=null,e}(GameObject);__reflect(Score.prototype,"Score");