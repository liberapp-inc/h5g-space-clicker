var __reflect=this&&this.__reflect||function(e,t,o){e.__class__=t,o?o.push(t):o=[t],e.__types__=e.__types__?o.concat(e.__types__):o},__extends=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);o.prototype=t.prototype,e.prototype=new o},GameObject=function(){function e(){this.shape=null,this.mask=null,this.destroyFlag=!1,e.objects.push(this)}return e.initial=function(t){e.objects=[],e.display=t},e.update=function(){e.objects.forEach(function(e){return e.updateContent()}),e.objects=e.objects.filter(function(e){return e.destroyFlag&&e["delete"](),!e.destroyFlag}),e.transit&&(e.allDestroy(),e.transit(),e.transit=null)},e.allDestroy=function(){e.objects=e.objects.filter(function(e){return e.destroy(),e["delete"](),!1})},e.prototype.destroy=function(){this.destroyFlag=!0},e.prototype.addDestroyMethod=function(){},e.prototype["delete"]=function(){this.addDestroyMethod(),this.shape&&(e.display.removeChild(this.shape),this.shape=null)},e.objects=[],e}();__reflect(GameObject.prototype,"GameObject");var PhysicsObject=function(e){function t(){var t=e.call(this)||this;return t.body=null,t.bodyShape=null,t}return __extends(t,e),t.prototype.addDestroyMethod=function(){CreateWorld.world.removeBody(this.body)},t.world=null,t}(GameObject);__reflect(PhysicsObject.prototype,"PhysicsObject");var Button=function(e){function t(t,o,i,a,n){var l=e.call(this)||this;return l.object=null,l.indexText=null,l.indexTextColor=Util.color(230,230,230),l.costText=null,l.costTextColor=Util.color(0,0,0),l.parameterText=null,l.parameterTextColor=Util.color(230,230,230),l.mask=null,l.onMask=!1,l.setObject(t,o,i,a),l.object.addEventListener(egret.TouchEvent.TOUCH_BEGIN,l.tap,l),l}return __extends(t,e),t.prototype.setObject=function(e,t,o,i){0>=o?(o=1,console.log("widthが0以下です")):0>=i&&(i=1,console.log("heightが0以下です")),this.object=new egret.DisplayObjectContainer,this.object.width=o,this.object.height=i,this.object.anchorOffsetX+=o/2,this.object.anchorOffsetY+=i/2,this.object.x=e,this.object.y=t,this.object.touchEnabled=!0,GameObject.display.addChild(this.object)},t.prototype.setShape=function(e,t,o,i,a){this.shape&&GameObject.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.x=0,this.shape.y=0,this.shape.graphics.beginFill(a),this.shape.graphics.drawRoundRect(0,0,o,i,30),this.shape.graphics.endFill(),this.object.addChild(this.shape)},t.prototype.setMask=function(e,t,o,i){var a=Util.color(0,0,0);this.mask=new egret.Shape,this.mask.x=0,this.mask.y=0,this.mask.alpha=0,this.mask.graphics.beginFill(a),this.mask.graphics.drawRoundRect(0,0,o,i,30),this.mask.graphics.endFill(),this.object.addChild(this.mask)},t.prototype.setIndexText=function(e,t,o,i,a){var n=80,l=.5;this.indexText=Util.myText(e,t,a,n,l,this.indexTextColor,!0),this.indexText.width=this.object.width/l,this.indexText.height=this.object.height/l,this.indexText.textAlign=egret.HorizontalAlign.CENTER,this.object.addChild(this.indexText)},t.prototype.setParameterText=function(e,t,o,i,a){var n=60,l=.5;this.parameterText=Util.myText(e,t,a.toString(),n,l,this.parameterTextColor,!1),this.parameterText.width=this.object.width/l,this.parameterText.height=this.object.height/l,this.parameterText.textAlign=egret.HorizontalAlign.CENTER,this.object.addChild(this.parameterText)},t.prototype.setCostText=function(e,t,o,i,a){var n=60,l=.5;this.costText=Util.myText(e,t,"Lv.UP\n MONEY\n"+a.toString(),n,l,this.costTextColor,!1),this.costText.width=this.object.width/l,this.costText.height=this.object.height/l,this.costText.textAlign=egret.HorizontalAlign.CENTER,this.costText.verticalAlign=egret.VerticalAlign.MIDDLE,this.object.addChild(this.costText)},t.prototype.addDestroyMethod=function(){this.object.hasEventListener&&this.object.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.tap,this),this.object&&(this.object.removeChild(this.shape),this.object.removeChildren(),this.shape=null),this.object&&GameObject.display.removeChild(this.object)},t}(GameObject);__reflect(Button.prototype,"Button");var LevelUpBulletDamageButton=function(e){function t(t,o,i,a,n,l){var r=e.call(this,t,o,i,a,l)||this;return r.setShape(t,o,i,a,n),r.setIndexText(0,-100,i,a,l),r.setParameterText(0,-50,i,a,Player.bulletDamage),r.setCostText(0,0,i,a,Player.damageLevelUpCost),r.setMask(t,o,i,a),r}return __extends(t,e),t.prototype.updateContent=function(){this.parameterText.text=Player.bulletDamage.toString(),this.costText.text="Lv.UP\n MONEY\n"+Player.damageLevelUpCost.toString(),Money.I.money>=Player.damageLevelUpCost?this.mask.alpha=0:this.mask.alpha=.5},t.prototype.tap=function(){Money.I.money>=Player.damageLevelUpCost&&(Money.I.money-=Player.damageLevelUpCost,Player.bulletDamage+=1,Player.damageLevelUpCost+=100,Util.saveLocalStrage("Player.bulletDamage",Player.bulletDamage),Util.saveLocalStrage("Player.damageLevelUpCost",Player.damageLevelUpCost))},t}(Button);__reflect(LevelUpBulletDamageButton.prototype,"LevelUpBulletDamageButton");var LevelUpBulletSpeedButton=function(e){function t(t,o,i,a,n,l){var r=e.call(this,t,o,i,a,l)||this;return r.setShape(t,o,i,a,n),r.setIndexText(0,-100,i,a,l),r.setParameterText(0,-50,i,a,Player.bulletMoveSpeed),r.setCostText(0,0,i,a,Player.speedLevelUpCost),r.setMask(t,o,i,a),r}return __extends(t,e),t.prototype.updateContent=function(){this.parameterText.text=Player.bulletMoveSpeed.toString(),this.costText.text="Lv.UP\n MONEY\n"+Player.speedLevelUpCost.toString(),Money.I.money>=Player.speedLevelUpCost?this.mask.alpha=0:this.mask.alpha=.5},t.prototype.tap=function(){Money.I.money>=Player.speedLevelUpCost&&(Money.I.money-=Player.speedLevelUpCost,Player.bulletMoveSpeed+=1,Player.speedLevelUpCost+=100,Player.shotInterval>=100&&(Player.shotInterval=1e3-5*Player.bulletMoveSpeed,Player.shotInterval<100&&(Player.shotInterval=100)),Player.I.resetTimer(),Util.saveLocalStrage("Player.bulletMoveSpeed",Player.bulletMoveSpeed),Util.saveLocalStrage("Player.speedLevelUpCost",Player.speedLevelUpCost),Util.saveLocalStrage("Player.shotInterval",Player.shotInterval))},t}(Button);__reflect(LevelUpBulletSpeedButton.prototype,"LevelUpBulletSpeedButton");var LevelUpSalaryButton=function(e){function t(t,o,i,a,n,l){var r=e.call(this,t,o,i,a,l)||this;return r.setShape(t,o,i,a,n),r.setIndexText(0,-100,i,a,l),r.setParameterText(0,-50,i,a,Player.bulletMoveSpeed),r.setCostText(0,0,i,a,Player.speedLevelUpCost),r.setMask(t,o,i,a),r}return __extends(t,e),t.prototype.updateContent=function(){this.parameterText.text=Player.salary.toString()+"/sec",this.costText.text="Lv.UP\n MONEY\n"+Player.salaryLevelUpCost.toString(),Money.I.money>=Player.salaryLevelUpCost?this.mask.alpha=0:this.mask.alpha=.5},t.prototype.tap=function(){Money.I.money>=Player.salaryLevelUpCost&&(Money.I.money-=Player.salaryLevelUpCost,Player.salary+=1,Player.salaryLevelUpCost+=100,Util.saveLocalStrage("Player.salary",Player.salary),Util.saveLocalStrage("Player.salaryLevelUpCost",Player.salaryLevelUpCost))},t}(Button);__reflect(LevelUpSalaryButton.prototype,"LevelUpSalaryButton");var ResetButton=function(e){function t(t,o,i,a,n,l){var r=e.call(this,t,o,i,a,l)||this;return r.setShape(t,o,i,a,n),r.setIndexText(0,0,i,a,l),r.shapeColor=n,r.setMask(t,o,i,a),r}return __extends(t,e),t.prototype.setIndexText=function(e,t,o,i,a){var n=60,l=.5;this.indexText=Util.myText(e,t,a,n,l,this.costTextColor,!1),this.indexText.width=this.object.width/l,this.indexText.height=this.object.height/l,this.indexText.textAlign=egret.HorizontalAlign.CENTER,this.indexText.verticalAlign=egret.VerticalAlign.MIDDLE,this.object.addChild(this.indexText)},t.prototype.tap=function(){new CautionPanel(0,0,Game.width,Game.height),CautionPanel.onPanel=!0},t.prototype.updateContent=function(){0==CautionPanel.onPanel?(this.mask.alpha=0,this.object.touchEnabled=!0):(this.mask.alpha=.5,this.object.touchEnabled=!1)},t}(Button);__reflect(ResetButton.prototype,"ResetButton");var MyTween=function(){function e(){}return e.fadeOut=function(e,t){void 0==t&&(t=null),egret.Tween.get(e).to({alpha:.5},1e3).call(function(){egret.Tween.removeTweens(e),(void 0!=t||null!=t)&&t.destroy()})},e.enemyFadeOut=function(e,t){void 0==t&&(t=null),egret.Tween.get(e).to({alpha:.2},1e3).call(function(){egret.Tween.removeTweens(e),(void 0!=t||null!=t)&&(t.destroy(),GameScene.createEnemy())})},e.lastBossFadeOut=function(e,t){void 0==t&&(t=null),egret.Tween.get(e).to({alpha:.2},3e3).call(function(){egret.Tween.removeTweens(e),(void 0!=t||null!=t)&&t.destroy()})},e.knockBack=function(e){var t=e.y;egret.Tween.get(e).to({y:t-50},50,egret.Ease.elasticIn).to({y:t},50,egret.Ease.sineIn)},e.dropMoneyTextFadeOut=function(e,t){void 0==t&&(t=null);var o=e.y;egret.Tween.get(e).to({y:o-150},100).to({alpha:.2},900).call(function(){egret.Tween.removeTweens(e),(void 0!=t||null!=t)&&t.destroy()})},e.enemyRotate=function(e,t){e.y;egret.Tween.get(e,{loop:!0}).to({rotation:360},t)},e.autoSaveTextFadeInOut=function(e,t){void 0==t&&(t=null),e.alpha=0,egret.Tween.get(e).to({alpha:1},10).wait(2e3).to({alpha:0},2e3).call(function(){egret.Tween.removeTweens(e)})},e.slide=function(e,t,o){var i=e.x,a=t;egret.Tween.get(e).to({x:i+a},o).call(function(){egret.Tween.removeTweens(e)})},e.bossSlide=function(e,t,o,i){var a=e.x,n=t;egret.Tween.get(e).to({x:a+n},o).to({alpha:0},i).call(function(){egret.Tween.removeTweens(e)})},e.bossTextSlide=function(e,t,o){var i=e.x,a=t;egret.Tween.get(e).to({x:i+a},o).wait(2400).to({x:i+3*a},o).call(function(){egret.Tween.removeTweens(e)})},e.backgroundFadeOut=function(e,t){egret.Tween.get(e).to({alpha:.5},0).wait(50).to({alpha:0},t).wait(3950).call(function(){egret.Tween.removeTweens(e),BossEntryEffect.I.destroy()})},e.bossDeadEffect=function(e){egret.Tween.get(e).to({alpha:.5},50).to({alpha:0},2e3).call(function(){egret.Tween.removeTweens(e),BossDeadEffect.I.destroy()})},e.gameClear=function(e,t){var o=this;egret.Tween.get(e).to({alpha:t},5e3).call(function(){egret.Tween.removeTweens(e),GameObject.display.once(egret.TouchEvent.TOUCH_TAP,GameClearEffect.I.tap,o)})},e}();__reflect(MyTween.prototype,"MyTween");var DropItem;!function(e){e[e.NONE=0]="NONE",e[e.A=1]="A",e[e.B=2]="B"}(DropItem||(DropItem={}));var Enemy=function(e){function t(t,o,i,a,n,l,r){var s=e.call(this)||this;return s.object=null,s.initialY=0,s.dropMoney=0,s.hp=0,s.hpTextField=null,s.hpTextFieldColor=Util.color(230,230,230),s.deadFlag=!1,s.bossFlag=!1,s.lastBossFlag=!1,s.addShapes=[],s.hp=l,s.dropMoney=r,s.setObject(t,o,i,a),s.setHpText(t,o,i,a),s.initialY=s.object.y,s}return __extends(t,e),t.prototype.setObject=function(e,t,o,i){0>=o?(o=1,console.log("widthが0以下です")):0>=i&&(i=1,console.log("heightが0以下です")),this.object=new egret.DisplayObjectContainer,this.object.width=o,this.object.height=i,this.object.anchorOffsetX+=o/2,this.object.anchorOffsetY+=i/2,this.object.x=e,this.object.y=t;var a=GameObject.display.getChildIndex(Background.I.shape)+1;GameObject.display.addChildAt(this.object,a)},t.prototype.setHpText=function(e,t,o,i){var a=100,n=.5;this.hpTextField=Util.myText(0,0,this.hp.toString(),a,n,this.hpTextFieldColor,!0),this.hpTextField.width/=n,this.hpTextField.height/=n,this.hpTextField.anchorOffsetX=this.hpTextField.width/2,this.hpTextField.anchorOffsetY=this.hpTextField.height/2,this.hpTextField.x=this.object.anchorOffsetX,this.hpTextField.y=this.object.anchorOffsetY,this.hpTextField.textAlign=egret.HorizontalAlign.CENTER,this.hpTextField.verticalAlign=egret.VerticalAlign.MIDDLE,this.object.addChild(this.hpTextField)},t.prototype.setRectShape=function(e,t,o,i,a,n){var l=new egret.Shape;this.addShapes.push(l),l.anchorOffsetX=this.object.anchorOffsetX,l.anchorOffsetY=this.object.anchorOffsetY,l.x=this.object.anchorOffsetX+e,l.y=this.object.anchorOffsetY+t,l.rotation=n||0,l.graphics.beginFill(a),l.graphics.drawRect(0,0,o,i),l.graphics.endFill(),this.object.addChildAt(l,0)},t.prototype.setCircleShape=function(e,t,o,i,a){0>=o&&(o=1,console.log("radiusが0以下です"));var n=new egret.Shape;this.addShapes.push(n),n.x=this.object.anchorOffsetX+e,n.y=this.object.anchorOffsetY+t,n.rotation=a||0,n.graphics.beginFill(i),n.graphics.drawCircle(0,0,o),n.graphics.endFill(),this.object.addChildAt(n,0)},t.prototype.updateContent=function(){this.hpTextField.text=this.hp.toString(),this.initialY>this.object.y&&(this.object.y=this.initialY)},t.prototype.addDestroyMethod=function(){var e=this;egret.Tween.removeTweens(this.object),this.hpTextField&&(this.object.removeChild(this.hpTextField),this.hpTextField=null),this.addShapes.forEach(function(t){e.object.removeChild(t),t=null}),this.shape&&(this.object.removeChildren(),this.shape=null),this.object&&GameObject.display.removeChild(this.object)},t}(GameObject);__reflect(Enemy.prototype,"Enemy");var RectEnemy=function(e){function t(t,o,i,a,n,l,r){var s=e.call(this,t,o,i,a,n,l,r)||this;return s.setRectShape(0,0,i,a,n,45),s}return __extends(t,e),t}(Enemy);__reflect(RectEnemy.prototype,"RectEnemy");var CircleEnemy=function(e){function t(t,o,i,a,n,l,r,s){var h=e.call(this,t,o,i,a,l,r,s)||this;return h.setCircleShape(0,0,n,l),h}return __extends(t,e),t}(Enemy);__reflect(CircleEnemy.prototype,"CircleEnemy");var DoubleCircle=function(e){function t(t,o,i,a,n,l,r,s){var h=e.call(this,t,o,i,a,l,r,s)||this;return h.setCircleShape(-n/1.5,0,n,l),h.setCircleShape(n/1.5,0,n,l),h}return __extends(t,e),t}(Enemy);__reflect(DoubleCircle.prototype,"DoubleCircle");var DoubleRect=function(e){function t(t,o,i,a,n,l,r){var s=e.call(this,t,o,i,a,n,l,r)||this;return s.setRectShape(-i/4,-a/4,i,a,n),s.setRectShape(i/4,a/4,i,a,n),s}return __extends(t,e),t}(Enemy);__reflect(DoubleRect.prototype,"DoubleRect");var TripleCircle=function(e){function t(t,o,i,a,n,l,r,s){var h=e.call(this,t,o,i,a,l,r,s)||this,c=n/1;return h.setCircleShape(0,0,n,l),h.setCircleShape(c,-c,n/1.5,l),h.setCircleShape(-c,-c,n/1.5,l),h}return __extends(t,e),t}(Enemy);__reflect(TripleCircle.prototype,"TripleCircle");var TripleRect=function(e){function t(t,o,i,a,n,l,r){var s=e.call(this,t,o,i,a,n,l,r)||this,h=1.35*i,c=1.35*a;return s.setRectShape(0,0,i,a,n,45),s.setRectShape(-h,c,i,a,n,45),s.setRectShape(h,c,i,a,n,45),s}return __extends(t,e),t}(Enemy);__reflect(TripleRect.prototype,"TripleRect");var Umibouzu=function(e){function t(t,o,i,a,n,l,r,s){var h=e.call(this,t,o,i,a,l,r,s)||this,c=1.5*n/20,d=Util.color(254,0,0);return h.setCircleShape(c,c,n/1.5/20,d),h.setCircleShape(-c,c,n/1.5/20,d),h.setCircleShape(0,2*c,n/1.5/20,d),h.setCircleShape(0,0,4*n/20,l),h}return __extends(t,e),t}(Enemy);__reflect(Umibouzu.prototype,"Umibouzu");var Ball=function(e){function t(t,o,i){var a=e.call(this)||this;return a.radius=null,a.setShape(t,o,i),a}return __extends(t,e),t.prototype.setShape=function(e,t,o){this.shape&&GameObject.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.x=e,this.shape.y=t,this.shape.graphics.beginFill(16711680),this.shape.graphics.drawCircle(0,0,o),this.shape.graphics.endFill(),GameObject.display.addChild(this.shape)},t.prototype.updateContent=function(){},t.I=null,t}(GameObject);__reflect(Ball.prototype,"Ball");var PhysicsBall=function(e){function t(t,o,i){var a=e.call(this)||this;return a.radius=null,a.setBody(t,o,i),a.setShape(t,o,i),a}return __extends(t,e),t.prototype.setBody=function(e,t,o){this.body=new p2.Body({mass:1,position:[e,t]}),this.bodyShape=new p2.Circle({radius:o,fixedRotation:!0}),this.body.addShape(this.bodyShape),CreateWorld.world.addBody(this.body)},t.prototype.setShape=function(e,t,o){this.shape&&GameObject.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.x=e,this.shape.y=t,this.shape.graphics.beginFill(16711680),this.shape.graphics.drawCircle(0,0,o),this.shape.graphics.endFill(),GameObject.display.addChild(this.shape)},t}(PhysicsObject);__reflect(PhysicsBall.prototype,"PhysicsBall");var MyBall=function(e){function t(t,o,i){var a=e.call(this,t,o,i)||this;return Ball.I=a,a}return __extends(t,e),t}(Ball);__reflect(MyBall.prototype,"MyBall");var Player=function(e){function t(o,i,a,n,l){var r=e.call(this)||this;return t.I=r,r.setPlayerObject(o,i,a,n),r.setShape(o,i,a,n,l),r.loadStatus(),t.object.scaleX=t.object.scaleY=.4,t.shotTimer=new egret.Timer(t.shotInterval,0),t.shotTimer.addEventListener(egret.TimerEvent.TIMER,r.shot,r),t.shotTimer.start(),GameObject.display.addEventListener(egret.TouchEvent.TOUCH_BEGIN,r.shot,r),r}return __extends(t,e),t.prototype.loadStatus=function(){t.bulletDamage=Util.loadLocalStrage("Player.bulletDamage",t.bulletDamage),t.bulletMoveSpeed=Util.loadLocalStrage("Player.bulletMoveSpeed",t.bulletMoveSpeed),t.salary=Util.loadLocalStrage("Player.salary",t.salary),t.shotInterval=Util.loadLocalStrage("Player.shotInterval",t.shotInterval),t.damageLevelUpCost=Util.loadLocalStrage("Player.damageLevelUpCost",t.damageLevelUpCost),t.speedLevelUpCost=Util.loadLocalStrage("Player.speedLevelUpCost",t.speedLevelUpCost),t.salaryLevelUpCost=Util.loadLocalStrage("Player.salaryLevelUpCost",t.salaryLevelUpCost),Kill.I.kill=Util.loadLocalStrage("Kill.I.kill",Kill.I.kill),Money.I.money=Util.loadLocalStrage("Money.I.money",Money.I.money),GameScene.enemyLevel=Util.loadLocalStrage("GameScene.enemyLevel",GameScene.enemyLevel),t.gameClear=Util.loadLocalStrage("Player.gameClear",t.gameClear)},t.prototype.resetStatus=function(){t.bulletDamage=1,t.bulletMoveSpeed=5,t.salary=1,t.shotInterval=1e3,t.damageLevelUpCost=100,t.speedLevelUpCost=100,t.salaryLevelUpCost=100,Kill.I.kill=0,Money.I.money=0,GameScene.enemyLevel=1,t.gameClear=0,t.shotTimer.stop(),t.shotTimer.removeEventListener(egret.TimerEvent.TIMER,this.shot,this),Util.saveLocalStrage("Player.bulletDamage",t.bulletDamage),Util.saveLocalStrage("Player.bulletMoveSpeed",t.bulletMoveSpeed),Util.saveLocalStrage("Player.salary",t.salary),Util.saveLocalStrage("Player.shotInterval",t.shotInterval),Util.saveLocalStrage("Player.damageLevelUpCost",t.damageLevelUpCost),Util.saveLocalStrage("Player.speedLevelUpCost",t.speedLevelUpCost),Util.saveLocalStrage("Player.salaryLevelUpCost",t.salaryLevelUpCost),Util.saveLocalStrage("Kill.I.kill",Kill.I.kill),Util.saveLocalStrage("Money.I.money",Money.I.money),Util.saveLocalStrage("GameScene.enemyLevel",GameScene.enemyLevel),Util.saveLocalStrage("Player.gameClear",t.gameClear),GameObject.transit=Game.init},t.prototype.setPlayerObject=function(e,o,i,a){t.object=new egret.DisplayObjectContainer,t.object.anchorOffsetX+=i/2,t.object.x=e,t.object.y=o,t.object.width=i,t.object.height=a,GameObject.display.addChild(t.object)},t.prototype.setShape=function(e,o,i,a,n){this.shape&&GameObject.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.x=0,this.shape.y=0,this.shape.graphics.beginFill(n),this.shape.graphics.drawRect(0,0,i,a),this.shape.graphics.endFill();var l=this.setMask(this.shape.x,this.shape.y,this.shape.width/3,this.shape.height/2,Background.I.color),r=this.setMask(this.shape.x+2*this.shape.width/3+1,this.shape.y,this.shape.width/3,this.shape.height/2,Background.I.color);t.object.addChild(this.shape),t.object.addChild(l),t.object.addChild(r)},t.prototype.setMask=function(e,t,o,i,a){var n=new egret.Shape;return n.x=e,n.y=t,n.graphics.beginFill(a),n.graphics.drawRect(0,0,o,i),n.graphics.endFill(),n},t.prototype.shot=function(){var e=new Bullet(Game.width/2,Game.height/1.6,Game.width/30,Game.height/16,Util.color(254,0,0));t.bullet.push(e);var o=t.bullet.filter(function(e){return e.collisionFlag!==!0});t.bullet=o},t.prototype.resetTimer=function(){t.shotTimer.stop(),t.shotTimer.removeEventListener(egret.TimerEvent.TIMER,this.shot,this),t.shotTimer=new egret.Timer(t.shotInterval,0),t.shotTimer.addEventListener(egret.TimerEvent.TIMER,this.shot,this),t.shotTimer.start()},t.prototype.addDestroyMethod=function(){GameObject.display.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.shot,this),t.shotTimer.stop(),t.shotTimer.removeEventListener(egret.TimerEvent.TIMER,this.shot,this),t.bullet=[],this.shape&&(t.object.removeChild(this.shape),t.object.removeChildren(),this.shape=null),t.object&&GameObject.display.removeChild(t.object)},t.prototype.updateContent=function(){var e=this;t.bullet.forEach(function(o){var i=t.bulletMoveSpeed;i>30&&(i=30),o.object.y-=i,o.object.y<0&&(o.destroy(),o.collisionFlag=!0),GameScene.enemy.forEach(function(i){0==o.collisionFlag&&0==i.deadFlag&&i.object.y>=o.object.y&&o.object.y>=i.object.y-i.object.height/2&&(i.hp-=t.bulletDamage,MyTween.knockBack(i.object),o.destroy(),o.collisionFlag=!0,i.hp<=0&&(i.hp=0,i.deadFlag=!0,Money.addMoney(i.dropMoney),new DropMoney(i.object.x,i.object.y,"+ "+i.dropMoney.toString()+" MONEY",80,.5,Util.color(0,254,252),!1,i.object),i.lastBossFlag?MyTween.lastBossFadeOut(i.object,i):MyTween.enemyFadeOut(i.object,i),Kill.I.addKill(),i.bossFlag&&new BossDeadEffect,i.lastBossFlag&&(i.lastBossFlag=!1,t.shotTimer.stop(),t.shotTimer.removeEventListener(egret.TimerEvent.TIMER,e.shot,e),GameObject.display.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.shot,e),t.gameClear=1,Util.saveLocalStrage("Player.gameClear",t.gameClear),new GameClearEffect)))})})},t.I=null,t.object=null,t.shotTimer=null,t.shotInterval=1e3,t.bullet=[],t.bulletDamage=1,t.bulletMoveSpeed=5,t.salary=1,t.damageLevelUpCost=100,t.speedLevelUpCost=100,t.salaryLevelUpCost=100,t.gameClear=0,t}(GameObject);__reflect(Player.prototype,"Player");var GameOver=function(e){function t(){var t=e.call(this)||this;return t.textGameOver=null,t.textScore=null,t.textColor=65339,t.textGameOver=Util.myText(Game.width/2,Game.height/2-50,"GAME OVER",100,.5,t.textColor,!0),t.textGameOver.anchorOffsetX=t.textGameOver.width/2,t.textGameOver.anchorOffsetY=t.textGameOver.height/2,GameObject.display.addChild(t.textGameOver),t.textScore=Util.myText(Game.width/2,Game.height/2+50,"SCORE : "+Score.I.score,100,.5,t.textColor,!0),t.textScore.anchorOffsetX=t.textScore.width/2,t.textScore.anchorOffsetY=t.textScore.height/2,GameObject.display.addChild(t.textScore),Score.I.score>=Score.I.bestScore&&window.localStorage.setItem("bestScore",Score.I.score.toFixed()),GameObject.display.once(egret.TouchEvent.TOUCH_TAP,function(e){return t.tap(e)},t),t}return __extends(t,e),t.prototype.onDestroy=function(){GameObject.display.removeChild(this.textGameOver),this.textGameOver=null,GameObject.display.removeChild(this.textScore),this.textScore=null},t.prototype.updateContent=function(){GameObject.display.addChild(this.textGameOver),GameObject.display.addChild(this.textScore)},t.prototype.tap=function(e){GameObject.transit=Game.init,this.destroy()},t}(GameObject);__reflect(GameOver.prototype,"GameOver");var RandomEnemy;!function(e){e[e.RECT=0]="RECT",e[e.CIRCLE=1]="CIRCLE",e[e.DOUBLE_RECT=2]="DOUBLE_RECT",e[e.DOUBLE_CIRCLE=3]="DOUBLE_CIRCLE",e[e.TRIPLE_RECT=4]="TRIPLE_RECT",e[e.TRIPLE_CIRCLE=5]="TRIPLE_CIRCLE",e[e.BOSS_RECT=6]="BOSS_RECT",e[e.BOSS_CIRCLE=7]="BOSS_CIRCLE",e[e.BOSS_DOUBLE_RECT=8]="BOSS_DOUBLE_RECT",e[e.BOSS_DOUBLE_CIRCLE=9]="BOSS_DOUBLE_CIRCLE",e[e.BOSS_TRIPLE_RECT=10]="BOSS_TRIPLE_RECT",e[e.BOSS_TRIPLE_CIRCLE=11]="BOSS_TRIPLE_CIRCLE",e[e.UMIBOUZU=12]="UMIBOUZU",e[e.BOSS_UMIBOUZU=13]="BOSS_UMIBOUZU",e[e.FINAL=14]="FINAL"}(RandomEnemy||(RandomEnemy={}));var GameScene=function(e){function t(){var o=e.call(this)||this;return t.I=o,t.enemyLevel=Util.loadLocalStrage("GameScene.enemyLevel",t.enemyLevel),o.createStage(),o}return __extends(t,e),t.prototype.createStage=function(){t.createEnemy()},t.createEnemy=function(){var e=t.enemy.filter(function(e){return e.deadFlag!==!0});t.enemy=e;var o,i=Util.randomInt(RandomEnemy.RECT,t.enemyLevel),a=Util.color(0,254,0),n=Util.color(255,100,255),l=Util.color(255,240,39),r=Util.color(254,0,0),s=Game.width/6,h=s,c=s;switch(Kill.I.kill){case 10:i=RandomEnemy.UMIBOUZU,t.enemyLevel=RandomEnemy.CIRCLE,Util.saveLocalStrage("GameScene.enemyLevel",t.enemyLevel);break;case 50:i=RandomEnemy.BOSS_CIRCLE,t.enemyLevel=RandomEnemy.DOUBLE_RECT,Util.saveLocalStrage("GameScene.enemyLevel",t.enemyLevel);break;case 100:i=RandomEnemy.BOSS_DOUBLE_RECT,t.enemyLevel=RandomEnemy.DOUBLE_CIRCLE,Util.saveLocalStrage("GameScene.enemyLevel",t.enemyLevel);break;case 200:i=RandomEnemy.BOSS_DOUBLE_CIRCLE,t.enemyLevel=RandomEnemy.TRIPLE_RECT,Util.saveLocalStrage("GameScene.enemyLevel",t.enemyLevel);break;case 300:i=RandomEnemy.BOSS_TRIPLE_RECT,t.enemyLevel=RandomEnemy.TRIPLE_CIRCLE,Util.saveLocalStrage("GameScene.enemyLevel",t.enemyLevel);break;case 400:i=RandomEnemy.BOSS_TRIPLE_CIRCLE;break;case 500:i=RandomEnemy.BOSS_UMIBOUZU,t.enemyLevel=RandomEnemy.BOSS_UMIBOUZU,Util.saveLocalStrage("GameScene.enemyLevel",t.enemyLevel)}switch(i){case RandomEnemy.RECT:o=new RectEnemy(Game.width/2,Game.height/4,Game.width/6,Game.height/8,a,10+1*Kill.I.kill,50+1*Kill.I.kill),t.enemy.push(o);break;case RandomEnemy.CIRCLE:s=Game.width/8,h=s,c=s,o=new CircleEnemy(Game.width/2,Game.height/4,h,c,s,n,15+1*Kill.I.kill,80+1*Kill.I.kill),t.enemy.push(o);break;case RandomEnemy.DOUBLE_RECT:o=new DoubleRect(Game.width/2,Game.height/4,Game.width/6,Game.height/8,a,50+2*Kill.I.kill,300+2*Kill.I.kill),t.enemy.push(o);break;case RandomEnemy.DOUBLE_CIRCLE:s=Game.width/8,h=s,c=s,o=new DoubleCircle(Game.width/2,Game.height/4,h,c,s,n,80+2*Kill.I.kill,500+2*Kill.I.kill),t.enemy.push(o);break;case RandomEnemy.TRIPLE_RECT:o=new TripleRect(Game.width/2,Game.height/4,Game.width/6,Game.height/8,a,200+3*Kill.I.kill,1e3+3*Kill.I.kill),t.enemy.push(o);break;case RandomEnemy.TRIPLE_CIRCLE:s=Game.width/8,h=s,c=s,o=new TripleCircle(Game.width/2,Game.height/4,h,c,s,n,300+4*Kill.I.kill,1500+4*Kill.I.kill),t.enemy.push(o);break;case RandomEnemy.UMIBOUZU:s=Game.width,h=s,c=s,o=new Umibouzu(Game.width/2,Game.height/4,h,c,s,l,150+1*Kill.I.kill,2e3+1*Kill.I.kill),t.enemy.push(o),o.hpTextField.textColor=r,t.enemyLevel!=RandomEnemy.UMIBOUZU&&t.enemyLevel!=RandomEnemy.FINAL&&t.enemyLevel!=RandomEnemy.BOSS_UMIBOUZU&&(o.bossFlag=!0,new BossEntryEffect);break;case RandomEnemy.BOSS_RECT:o=new RectEnemy(Game.width/2,Game.height/4,Game.width/3.6,Game.height/5.2,l,150+1*Kill.I.kill,1500+1*Kill.I.kill),t.enemy.push(o),o.hpTextField.textColor=r,t.enemyLevel!=RandomEnemy.UMIBOUZU&&t.enemyLevel!=RandomEnemy.FINAL&&t.enemyLevel!=RandomEnemy.BOSS_UMIBOUZU&&(o.bossFlag=!0,new BossEntryEffect);break;case RandomEnemy.BOSS_CIRCLE:s=Game.width/5,h=s,c=s,o=new CircleEnemy(Game.width/2,Game.height/4,h,c,s,l,400+2*Kill.I.kill,2e3+2*Kill.I.kill),t.enemy.push(o),o.hpTextField.textColor=r,t.enemyLevel!=RandomEnemy.UMIBOUZU&&t.enemyLevel!=RandomEnemy.FINAL&&t.enemyLevel!=RandomEnemy.BOSS_UMIBOUZU&&(o.bossFlag=!0,new BossEntryEffect);break;case RandomEnemy.BOSS_DOUBLE_RECT:o=new DoubleRect(Game.width/2,Game.height/4,Game.width/6,Game.height/8,l,1e3+3*Kill.I.kill,5e3+3*Kill.I.kill),t.enemy.push(o),o.hpTextField.textColor=r,t.enemyLevel!=RandomEnemy.UMIBOUZU&&t.enemyLevel!=RandomEnemy.FINAL&&t.enemyLevel!=RandomEnemy.BOSS_UMIBOUZU&&(o.bossFlag=!0,new BossEntryEffect);break;case RandomEnemy.BOSS_DOUBLE_CIRCLE:s=Game.width/8,h=s,c=s,o=new DoubleCircle(Game.width/2,Game.height/4,h,c,s,l,2e3+4*Kill.I.kill,7e3+4*Kill.I.kill),t.enemy.push(o),o.hpTextField.textColor=r,t.enemyLevel!=RandomEnemy.UMIBOUZU&&t.enemyLevel!=RandomEnemy.FINAL&&t.enemyLevel!=RandomEnemy.BOSS_UMIBOUZU&&(o.bossFlag=!0,new BossEntryEffect);break;case RandomEnemy.BOSS_TRIPLE_RECT:o=new TripleRect(Game.width/2,Game.height/4,Game.width/6,Game.height/8,l,5e3+5*Kill.I.kill,1e4+5*Kill.I.kill),t.enemy.push(o),o.hpTextField.textColor=r,t.enemyLevel!=RandomEnemy.UMIBOUZU&&t.enemyLevel!=RandomEnemy.FINAL&&t.enemyLevel!=RandomEnemy.BOSS_UMIBOUZU&&(o.bossFlag=!0,new BossEntryEffect);break;case RandomEnemy.BOSS_TRIPLE_CIRCLE:s=Game.width/8,h=s,c=s,o=new TripleCircle(Game.width/2,Game.height/4,h,c,s,l,7e3+6*Kill.I.kill,15e3+6*Kill.I.kill),t.enemy.push(o),o.hpTextField.textColor=r,t.enemyLevel!=RandomEnemy.UMIBOUZU&&t.enemyLevel!=RandomEnemy.FINAL&&t.enemyLevel!=RandomEnemy.BOSS_UMIBOUZU&&(o.bossFlag=!0,new BossEntryEffect,t.enemyLevel=RandomEnemy.UMIBOUZU,Util.saveLocalStrage("GameScene.enemyLevel",t.enemyLevel));break;case RandomEnemy.BOSS_UMIBOUZU:new BossEntryEffect,s=Game.width/8*20,h=s,c=s,o=new Umibouzu(Game.width/2,Game.height/4,h,c,s,l,1e5,2e5),t.enemy.push(o),o.hpTextField.textColor=r,o.bossFlag=!0,o.lastBossFlag=!0}},t.prototype.addDestroyMethod=function(){t.enemy=[]},t.prototype.updateContent=function(){},t.I=null,t.enemyLevel=1,t.enemy=[],t}(GameObject);__reflect(GameScene.prototype,"GameScene");var Main=function(e){function t(){var t=e.call(this)||this;return t.once(egret.Event.ADDED_TO_STAGE,t.addToStage,t),t}return __extends(t,e),t.prototype.addToStage=function(){GameObject.initial(this.stage),Util.init(this),Game.init(),egret.startTick(this.tickLoop,this)},t.prototype.tickLoop=function(e){return GameObject.update(),!1},t}(eui.UILayer);__reflect(Main.prototype,"Main");var Game=function(){function e(){}return e.init=function(){this.height=egret.MainContext.instance.stage.stageHeight,this.width=egret.MainContext.instance.stage.stageWidth;var t=Util.color(230,230,230);new Background,new Kill,new Money,new Player(e.width/2,e.height/1.5,e.width/3.4,e.height/8,Util.color(0,254,252)),new LevelUpBulletDamageButton(e.width/6,e.height/1.1,e.width/4,e.height/10.5,t,"Attack"),new LevelUpBulletSpeedButton(e.width/2,e.height/1.1,e.width/4,e.height/10.5,t,"Speed"),new LevelUpSalaryButton(e.width/1.2,e.height/1.1,e.width/4,e.height/10.5,t,"Salary"),new ResetButton(e.width/1.18,e.height/9.8,e.width/4.5,e.height/14,t,"Delete\nData"),new CheckDate,new GameScene},e}();__reflect(Game.prototype,"Game");var Background=function(e){function t(){var o=e.call(this)||this;return o.color=Util.color(0,0,0),t.I=o,o.shape=new egret.Shape,o.shape.graphics.beginFill(o.color),o.shape.graphics.drawRect(0,0,Game.width,Game.height),o.shape.graphics.endFill(),GameObject.display.addChild(o.shape),o}return __extends(t,e),t.prototype.updateContent=function(){},t.I=null,t}(GameObject);__reflect(Background.prototype,"Background");var CreateWorld=function(e){function t(){var o=e.call(this)||this;return t.I=o,t.world.on("beginContact",o.collision,o),o}return __extends(t,e),t.prototype.createWorld=function(){t.world=new p2.World,t.world.sleepMode=p2.World.BODY_SLEEPING,t.world.gravity=[0,9.8]},t.worldBegin=function(e){return t.world.step(1/60,e/1e3,10),!1},t.prototype.collision=function(e){},t.prototype.addDestroyMethod=function(){t.world.clear()},t.prototype.updateContent=function(){},t.I=null,t}(PhysicsObject);__reflect(CreateWorld.prototype,"CreateWorld");var Box=function(e){function t(t,o,i,a,n){var l=e.call(this)||this;return l.setShape(t,o,i,a,n),l}return __extends(t,e),t.prototype.setShape=function(e,t,o,i,a){this.shape&&GameObject.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.anchorOffsetX+=o/2,this.shape.anchorOffsetY+=i/2,this.shape.x=e,this.shape.y=t,this.shape.graphics.beginFill(a),this.shape.graphics.drawRect(0,0,o,i),this.shape.graphics.endFill(),GameObject.display.addChild(this.shape)},t}(GameObject);__reflect(Box.prototype,"Box");var PhysicsBox=function(e){function t(t,o,i,a,n){var l=e.call(this)||this;return l.x=t,l.y=o,l.width=i,l.height=a,l.color=n,l.setShape(l.width,l.height),l}return __extends(t,e),t.prototype.setBody=function(e,t,o,i){this.body=new p2.Body({mass:1,position:[e,t],type:p2.Body.STATIC}),this.bodyShape=new p2.Box({width:o,height:i}),this.body.addShape(this.bodyShape),CreateWorld.world.addBody(this.body)},t.prototype.setShape=function(e,t){this.shape&&GameObject.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.anchorOffsetX+=e/2,this.shape.anchorOffsetY+=t/2,this.shape.x=this.body.position[0],this.shape.y=this.body.position[1],this.shape.graphics.beginFill(this.color),this.shape.graphics.drawRect(0,0,e,t),this.shape.graphics.endFill(),GameObject.display.addChild(this.shape)},t}(PhysicsObject);__reflect(PhysicsBox.prototype,"PhysicsBox");var MyBox=function(e){function t(t,o,i,a,n){return e.call(this,t,o,i,a,n)||this}return __extends(t,e),t.prototype.updateContent=function(){},t}(Box);__reflect(MyBox.prototype,"MyBox");var Util=function(){function e(){}return e.init=function(e){this.height=e.stage.stageHeight,this.width=e.stage.stageWidth,this.ui=e},e.random=function(e,t){return e+Math.random()*(t-e)
},e.randomInt=function(e,t){return Math.floor(e+Math.random()*(t+.999-e))},e.clamp=function(e,t,o){return t>e&&(e=t),e>o&&(e=o),e},e.color=function(e,t,o){var i=e.toFixed(0),a=t.toFixed(0),n=o.toFixed(0);i=e.toString(16),a=t.toString(16),n=o.toString(16),i=("00"+i).slice(-2),a=("00"+a).slice(-2),n=("00"+n).slice(-2);var l=parseInt("0x"+i+a+n,16);return l},e.myText=function(e,t,o,i,a,n,l){var r=new egret.TextField;return r.x=e,r.y=t,r.text=o,r.bold=l,r.size=i,r.scaleX=a,r.scaleY=a,r.textColor=n,r.multiline=!0,r},e.myStrokeText=function(e,t,o,i,a,n,l,r,s){var h=new egret.TextField;return h.x=e,h.y=t,h.scaleX=a,h.scaleY=a,h.textFlow=[{text:o,style:{textColor:n,size:i,fontFamily:l,strokeColor:r,stroke:s}}],h},e.saveLocalStrage=function(e,t){window.localStorage.setItem(e,t.toString())},e.loadLocalStrage=function(e,t){var o=window.localStorage.getItem(e);null==o&&(o=t.toString(),window.localStorage.setItem(e,o.toString()));var i=parseInt(o);return i},e}();__reflect(Util.prototype,"Util");var Bullet=function(e){function t(t,o,i,a,n){var l=e.call(this)||this;return l.object=null,l.collisionFlag=!1,l.setObject(t,o,i,a),l.setShape(t,o,i,a,n),l.object.scaleX=.5,l.object.scaleY=.5,l}return __extends(t,e),t.prototype.setObject=function(e,t,o,i){this.object=new egret.DisplayObjectContainer,this.object.anchorOffsetX+=o/2,this.object.x=e,this.object.y=t,this.object.width=o,this.object.height=i,GameObject.display.addChild(this.object)},t.prototype.setShape=function(e,t,o,i,a){this.shape&&GameObject.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.x=0,this.shape.y=0,this.shape.graphics.beginFill(a),this.shape.graphics.drawRect(0,0,o,i),this.shape.graphics.endFill(),this.object.addChild(this.shape)},t.prototype.addDestroyMethod=function(){this.shape&&(this.object.removeChild(this.shape),this.shape=null),this.object&&GameObject.display.removeChild(this.object)},t.prototype.updateContent=function(){},t}(GameObject);__reflect(Bullet.prototype,"Bullet");var Panel=function(e){function t(t,o,i,a){var n=e.call(this)||this;return n.object=null,n.indexText=null,n.indexTextColor=Util.color(230,230,230),n.setObject(t,o,i,a),n}return __extends(t,e),t.prototype.setObject=function(e,t,o,i){0>=o?(o=1,console.log("widthが0以下です")):0>=i&&(i=1,console.log("heightが0以下です")),this.object=new egret.DisplayObjectContainer,this.object.x=e,this.object.y=t,GameObject.display.addChild(this.object)},t.prototype.setIndexText=function(e,t,o,i,a){var n=60,l=1;this.indexText=Util.myText(e,t,a,n,l,this.indexTextColor,!1),this.indexText.width=Game.width/l,this.indexText.height=Game.height/l,this.indexText.textAlign=egret.HorizontalAlign.CENTER,this.indexText.verticalAlign=egret.VerticalAlign.MIDDLE,this.object.addChild(this.indexText)},t.prototype.addDestroyMethod=function(){egret.Tween.removeTweens(this.object),this.indexText&&(this.object.removeChild(this.indexText),this.indexText=null),this.shape&&(this.shape=null),this.object&&(this.object.removeChildren(),GameObject.display.removeChild(this.object)),CautionPanel.onPanel=!1},t}(GameObject);__reflect(Panel.prototype,"Panel");var CautionPanel=function(e){function t(o,i,a,n){var l=e.call(this,o,i,a,n)||this;return t.I=l,l.shapeColor=Util.color(0,0,0),l.setShape(o,i,a,n),l.setButton(o+200,i+600,Game.width/4.5,Game.height/14),l.setIndexText(o,i-200,a,n,"データを消去します\nよろしいですか？"),l}return __extends(t,e),t.prototype.setShape=function(e,t,o,i){this.shape&&GameObject.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.x=0,this.shape.y=0,this.shape.alpha=.95,this.shape.graphics.beginFill(this.shapeColor),this.shape.graphics.drawRoundRect(0,0,o,i,0),this.shape.graphics.endFill(),this.object.addChild(this.shape)},t.prototype.setButton=function(e,t,o,i){new CautionYesButton(e,t,o,i,Util.color(230,230,230),"YES"),new CautionNoButton(e+2*o,t,o,i,Util.color(230,230,230),"NO")},t.prototype.updateContent=function(){},t.I=null,t.onPanel=!1,t}(Panel);__reflect(CautionPanel.prototype,"CautionPanel");var CautionYesButton=function(e){function t(o,i,a,n,l,r){var s=e.call(this,o,i,a,n,r)||this;return t.I=s,s.setShape(o,i,a,n,l),s.setIndexText(0,0,a,n,r),s.shapeColor=l,s.setMask(o,i,a,n),s}return __extends(t,e),t.prototype.setIndexText=function(e,t,o,i,a){var n=60,l=.5;this.indexText=Util.myText(e,t,a,n,l,this.costTextColor,!1),this.indexText.width=this.object.width/l,this.indexText.height=this.object.height/l,this.indexText.textAlign=egret.HorizontalAlign.CENTER,this.indexText.verticalAlign=egret.VerticalAlign.MIDDLE,this.object.addChild(this.indexText)},t.prototype.tap=function(){Player.I.resetStatus()},t.prototype.updateContent=function(){},t.I=null,t}(Button);__reflect(CautionYesButton.prototype,"CautionYesButton");var CautionNoButton=function(e){function t(o,i,a,n,l,r){var s=e.call(this,o,i,a,n,r)||this;return t.I=s,s.setShape(o,i,a,n,l),s.setIndexText(0,0,a,n,r),s.shapeColor=l,s.setMask(o,i,a,n),s}return __extends(t,e),t.prototype.setIndexText=function(e,t,o,i,a){var n=60,l=.5;this.indexText=Util.myText(e,t,a,n,l,this.costTextColor,!1),this.indexText.width=this.object.width/l,this.indexText.height=this.object.height/l,this.indexText.textAlign=egret.HorizontalAlign.CENTER,this.indexText.verticalAlign=egret.VerticalAlign.MIDDLE,this.object.addChild(this.indexText)},t.prototype.tap=function(){t.I.destroy(),CautionYesButton.I.destroy(),CautionPanel.I.destroy()},t.prototype.updateContent=function(){},t.I=null,t}(Button);__reflect(CautionNoButton.prototype,"CautionNoButton");var CheckDate=function(e){function t(){var o=e.call(this)||this;return o.text=null,o.textColor=Util.color(230,230,230),o.s=0,t.I=o,o.getDate(),t.dateTimer=new egret.Timer(t.dateInterval,0),t.dateTimer.addEventListener(egret.TimerEvent.TIMER,o.save,o),t.dateTimer.start(),o}return __extends(t,e),t.prototype.getDate=function(){var e=window.localStorage.getItem("getLastDate");(null==e||void 0==e)&&(e=(new Date).getTime().toString(),window.localStorage.setItem("getLastDate",e));var t=parseInt(e),o=new Date;this.s=(o.getTime()-t)/1e3,this.s=parseInt(this.s.toString()),Money.I.money+=this.s*Player.salary,e=(new Date).getTime().toString(),window.localStorage.setItem("getLastDate",e),t=parseInt(e),this.s=(o.getTime()-t)/1e3,this.s=parseInt(this.s.toString()),this.text=Util.myText(Game.width/1.4,0,"saving...",80,.5,this.textColor,!0),this.text.alpha=0,GameObject.display.addChild(this.text)},t.prototype.save=function(){t.timerCounter+=1,this.salary(),this.autoSaveText()},t.prototype.updateContent=function(){},t.prototype.addDestroyMethod=function(){t.dateTimer.stop(),t.dateTimer.removeEventListener(egret.TimerEvent.TIMER,this.save,this)},t.prototype.salary=function(){Money.I.money+=Player.salary,t.timerCounter>=10&&Util.saveLocalStrage("Money.I.money",Money.I.money)},t.prototype.autoSaveText=function(){if(t.timerCounter>=10){var e=(new Date).getTime().toString();window.localStorage.setItem("getLastDate",e),t.timerCounter=0,MyTween.autoSaveTextFadeInOut(this.text)}},t.I=null,t.dateTimer=null,t.dateInterval=1e3,t.timerCounter=0,t}(GameObject);__reflect(CheckDate.prototype,"CheckDate");var BossEntryEffect=function(e){function t(){var o=e.call(this)||this;return o.upperObject=null,o.lowerObject=null,o.background=null,o.backgroundColor=Util.color(255,240,230),o.leftText=null,o.rightText=null,o.textColor=Util.color(254,0,0),t.I=o,o.setBackground(),o.setObject(),o.setUpperShape(0,0,Game.width/6,Game.height/12),o.setLowerShape(0,0,Game.width/6,Game.height/12),o.setRightText(),o.setLeftText(),o}return __extends(t,e),t.prototype.setObject=function(){this.upperObject=new egret.DisplayObjectContainer,this.lowerObject=new egret.DisplayObjectContainer,this.upperObject.x=Game.width,this.lowerObject.y=Game.height-Game.height/12,GameObject.display.addChild(this.upperObject),GameObject.display.addChild(this.lowerObject)},t.prototype.setUpperShape=function(e,t,o,i){for(var a,n=0;30>n;n++){a=n%2==0?Util.color(0,0,0):Util.color(255,240,39);var l=new egret.Shape;l.graphics.beginFill(a),l.graphics.drawRect(o*n,t,o,i),l.graphics.endFill(),this.upperObject.addChild(l),MyTween.bossSlide(l,-2500,3e3,1e3)}},t.prototype.setLowerShape=function(e,t,o,i){for(var a,n=0;30>n;n++){a=n%2==0?Util.color(0,0,0):Util.color(255,240,39);var l=new egret.Shape;l.graphics.beginFill(a),l.graphics.drawRect(-o*n,t,o,i),l.graphics.endFill(),this.lowerObject.addChild(l),MyTween.bossSlide(l,2500,3e3,1e3)}},t.prototype.setLeftText=function(){var e=120,t=1;this.leftText=Util.myText(0,0,"BO",e,t,this.textColor,!0),this.leftText.width/=t,this.leftText.height/=t,this.leftText.anchorOffsetX=this.leftText.width,this.leftText.anchorOffsetY=this.leftText.height/2,this.leftText.x=0,this.leftText.y=Game.height/2,this.leftText.alpha=1,GameObject.display.addChild(this.leftText),MyTween.bossTextSlide(this.leftText,Game.width/2,300)},t.prototype.setRightText=function(){var e=120,t=1;this.rightText=Util.myText(0,0,"SS",e,t,this.textColor,!0),this.rightText.width/=t,this.rightText.height/=t,this.rightText.anchorOffsetX=0,this.rightText.anchorOffsetY=this.rightText.height/2,this.rightText.x=Game.width,this.rightText.y=Game.height/2,this.rightText.alpha=1,GameObject.display.addChild(this.rightText),MyTween.bossTextSlide(this.rightText,-Game.width/2,300)},t.prototype.setBackground=function(){this.background=new egret.Shape,this.background.graphics.beginFill(this.backgroundColor),this.background.graphics.drawRect(0,0,Game.width,Game.height),this.background.graphics.endFill(),this.background.alpha=.1,GameObject.display.addChild(this.background),MyTween.backgroundFadeOut(this.background,300)},t.prototype.addDestroyMethod=function(){this.upperObject&&(this.upperObject.removeChildren(),GameObject.display.removeChild(this.upperObject)),this.lowerObject&&(this.lowerObject.removeChildren(),GameObject.display.removeChild(this.lowerObject)),this.background&&GameObject.display.removeChild(this.background)},t.prototype.updateContent=function(){},t.I=null,t}(GameObject);__reflect(BossEntryEffect.prototype,"BossEntryEffect");var BossDeadEffect=function(e){function t(){var o=e.call(this)||this;return o.background=null,o.backgroundColor=Util.color(230,230,230),t.I=o,o.setBackground(),o}return __extends(t,e),t.prototype.setBackground=function(){this.background=new egret.Shape,this.background.graphics.beginFill(this.backgroundColor),this.background.graphics.drawRect(0,0,Game.width,Game.height),this.background.graphics.endFill(),this.background.alpha=.5,GameObject.display.addChild(this.background),MyTween.bossDeadEffect(this.background)},t.prototype.addDestroyMethod=function(){this.background&&GameObject.display.removeChild(this.background)},t.prototype.updateContent=function(){},t.I=null,t}(GameObject);__reflect(BossDeadEffect.prototype,"BossDeadEffect");var GameClearEffect=function(e){function t(){var o=e.call(this)||this;return o.background=null,o.backgroundColor=Util.color(230,230,230),o.text=null,o.textColor=Util.color(0,0,0),t.I=o,o.setBackground(),o.setText(),o}return __extends(t,e),t.prototype.setBackground=function(){this.background=new egret.Shape,this.background.graphics.beginFill(this.backgroundColor),this.background.graphics.drawRect(0,0,Game.width,Game.height),this.background.graphics.endFill(),this.background.alpha=.5,GameObject.display.addChild(this.background),MyTween.gameClear(this.background,1)},t.prototype.setText=function(){var e=60,t=1;this.text=Util.myText(0,0,"Thank You for Playing",e,t,this.textColor,!0),this.text.width/=t,this.text.height/=t,this.text.anchorOffsetX=this.text.width/2,this.text.anchorOffsetY=this.text.height/2,this.text.x=Game.width/2,this.text.y=Game.height/2,this.text.alpha=.1,GameObject.display.addChild(this.text),MyTween.gameClear(this.text,1)},t.prototype.tap=function(){GameObject.transit=Game.init},t.prototype.addDestroyMethod=function(){GameObject.display.removeChild(this.text),this.text=null,GameObject.display.removeChild(this.background),this.background=null},t.prototype.updateContent=function(){},t.I=null,t}(GameObject);__reflect(GameClearEffect.prototype,"GameClearEffect");var Kill=function(e){function t(){var o=e.call(this)||this;return o.kill=0,o.text=null,o.textColor=65339,t.I=o,o.textColor=Util.color(230,230,230),o.kill=Util.loadLocalStrage("Kill.I.kill",t.I.kill),o.text=Util.myText(0,50,"KILL : "+o.kill.toString()+" / 500",100,.5,o.textColor,!0),GameObject.display.addChild(o.text),o}return __extends(t,e),t.prototype.addDestroyMethod=function(){GameObject.display.removeChild(this.text),this.text=null},t.prototype.updateContent=function(){this.text.text="KILL : "+this.kill.toString()+" / 500"},t.prototype.addKill=function(){this.kill+=1,Util.saveLocalStrage("Kill.I.kill",t.I.kill)},t.I=null,t}(GameObject);__reflect(Kill.prototype,"Kill");var Money=function(e){function t(){var o=e.call(this)||this;return o.money=0,o.bestMoney=0,o.text=null,o.textBest=null,o.textColor=65339,o.textColor=Util.color(230,230,230),t.I=o,o.money=Util.loadLocalStrage("Money.I.money",t.I.money),o.text=Util.myText(0,0,"MONEY : 0",100,.5,o.textColor,!0),GameObject.display.addChild(o.text),o}return __extends(t,e),t.prototype.addDestroyMethod=function(){GameObject.display.removeChild(this.text),this.text=null},t.prototype.updateContent=function(){this.text.text="MONEY : "+this.money.toFixed()},t.addMoney=function(e){t.I.money+=e,Util.saveLocalStrage("Money.I.money",t.I.money)},t.I=null,t}(GameObject);__reflect(Money.prototype,"Money");var DropMoney=function(e){function t(t,o,i,a,n,l,r,s){var h=e.call(this)||this;return h.text=null,h.display=s,h.text=Util.myText(t,o,i,a,n,l,!0),h.text.width/=n,h.text.height/=n,h.text.anchorOffsetX=h.text.width/2,h.text.anchorOffsetY=h.text.height/2,h.text.x=h.display.anchorOffsetX,h.text.y=h.display.anchorOffsetY,h.text.textAlign=egret.HorizontalAlign.CENTER,h.text.verticalAlign=egret.VerticalAlign.MIDDLE,s.addChild(h.text),MyTween.dropMoneyTextFadeOut(h.text,h),h}return __extends(t,e),t.prototype.addDestroyMethod=function(){this.display.removeChild(this.text)},t.prototype.updateContent=function(){},t}(GameObject);__reflect(DropMoney.prototype,"DropMoney");var Score=function(e){function t(){var o=e.call(this)||this;o.score=0,o.bestScore=0,o.text=null,o.textBest=null,o.textColor=65339,o.textColor=Util.color(0,255,0),t.I=o,o.score=0,o.text=Util.myText(0,0,"SCORE : 0",100,.5,o.textColor,!0),GameObject.display.addChild(o.text);var i=window.localStorage.getItem("bestScore");return null==i&&(i="0",window.localStorage.setItem("bestScore",i)),o.bestScore=parseInt(i),o.textBest=Util.myText(0,50,"BEST : "+i,100,.5,o.textColor,!0),GameObject.display.addChild(o.textBest),o}return __extends(t,e),t.prototype.onDestroy=function(){GameObject.display.removeChild(this.text),this.text=null,GameObject.display.removeChild(this.textBest),this.textBest=null},t.prototype.updateContent=function(){this.text.text="SCORE : "+this.score.toFixed(),this.bestScore<this.score&&(this.bestScore=this.score,this.textBest.text="BEST : "+this.score.toFixed())},t.prototype.addScore=function(){this.score+=1},t.I=null,t}(GameObject);__reflect(Score.prototype,"Score");