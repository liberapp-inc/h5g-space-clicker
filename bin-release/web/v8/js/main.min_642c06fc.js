var __reflect=this&&this.__reflect||function(e,t,a){e.__class__=t,a?a.push(t):a=[t],e.__types__=e.__types__?a.concat(e.__types__):a},__extends=this&&this.__extends||function(e,t){function a(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);a.prototype=t.prototype,e.prototype=new a},GameObject=function(){function e(){this.shape=null,this.mask=null,this.destroyFlag=!1,e.objects.push(this)}return e.initial=function(t){e.objects=[],e.display=t},e.update=function(){e.objects.forEach(function(e){return e.updateContent()}),e.objects=e.objects.filter(function(e){return e.destroyFlag&&e["delete"](),!e.destroyFlag}),e.transit&&(e.allDestroy(),e.transit(),e.transit=null)},e.allDestroy=function(){e.objects=e.objects.filter(function(e){return e.destroy(),e["delete"](),!1})},e.prototype.destroy=function(){this.destroyFlag=!0},e.prototype.addDestroyMethod=function(){},e.prototype["delete"]=function(){this.addDestroyMethod(),this.shape&&(e.display.removeChild(this.shape),this.shape=null)},e.objects=[],e}();__reflect(GameObject.prototype,"GameObject");var PhysicsObject=function(e){function t(){var t=e.call(this)||this;return t.body=null,t.bodyShape=null,t}return __extends(t,e),t.prototype.addDestroyMethod=function(){CreateWorld.world.removeBody(this.body)},t.world=null,t}(GameObject);__reflect(PhysicsObject.prototype,"PhysicsObject");var Main=function(e){function t(){var t=e.call(this)||this;return t.once(egret.Event.ADDED_TO_STAGE,t.addToStage,t),t}return __extends(t,e),t.prototype.addToStage=function(){GameObject.initial(this.stage),Util.init(this),Game.init(),egret.startTick(this.tickLoop,this)},t.prototype.tickLoop=function(e){return GameObject.update(),!1},t}(eui.UILayer);__reflect(Main.prototype,"Main");var Game=function(){function e(){}return e.init=function(){this.height=egret.MainContext.instance.stage.stageHeight,this.width=egret.MainContext.instance.stage.stageWidth;var t=Util.color(220,20,60);new Background,new Kill,new Money,new Player(e.width/2,e.height/1.5,e.width/3.4,e.height/8,Util.color(220,20,60)),new LevelUpBulletDamageButton(e.width/6,e.height/1.1,e.width/4,e.height/10.5,t,"Attack"),new LevelUpBulletSpeedButton(e.width/2,e.height/1.1,e.width/4,e.height/10.5,t,"Speed"),new LevelUpSalaryButton(e.width/1.2,e.height/1.1,e.width/4,e.height/10.5,t,"Salary"),new ResetButton(e.width/1.18,e.height/10,e.width/4.5,e.height/14,t,"Delete\nData"),new CheckDate,new GameScene},e}();__reflect(Game.prototype,"Game");var Background=function(e){function t(){var a=e.call(this)||this;return t.I=a,a.shape=new egret.Shape,a.shape.graphics.beginFill(Util.color(0,10,90)),a.shape.graphics.drawRect(0,0,Game.width,Game.height),a.shape.graphics.endFill(),GameObject.display.addChild(a.shape),a}return __extends(t,e),t.prototype.updateContent=function(){},t.I=null,t}(GameObject);__reflect(Background.prototype,"Background");var CreateWorld=function(e){function t(){var a=e.call(this)||this;return t.I=a,t.world.on("beginContact",a.collision,a),a}return __extends(t,e),t.prototype.createWorld=function(){t.world=new p2.World,t.world.sleepMode=p2.World.BODY_SLEEPING,t.world.gravity=[0,9.8]},t.worldBegin=function(e){return t.world.step(1/60,e/1e3,10),!1},t.prototype.collision=function(e){},t.prototype.addDestroyMethod=function(){t.world.clear()},t.prototype.updateContent=function(){},t.I=null,t}(PhysicsObject);__reflect(CreateWorld.prototype,"CreateWorld");var Bullet=function(e){function t(t,a,o,i,n){var l=e.call(this)||this;return l.object=null,l.collisionFlag=!1,l.setObject(t,a,o,i),l.setShape(t,a,o,i,n),l.object.scaleX=.5,l.object.scaleY=.5,l}return __extends(t,e),t.prototype.setObject=function(e,t,a,o){this.object=new egret.DisplayObjectContainer,this.object.anchorOffsetX+=a/2,this.object.x=e,this.object.y=t,this.object.width=a,this.object.height=o,GameObject.display.addChild(this.object)},t.prototype.setShape=function(e,t,a,o,i){this.shape&&GameObject.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.x=0,this.shape.y=0,this.shape.graphics.beginFill(i),this.shape.graphics.drawRect(0,0,a,o),this.shape.graphics.endFill(),this.object.addChild(this.shape)},t.prototype.addDestroyMethod=function(){this.shape&&(this.object.removeChild(this.shape),this.shape=null),this.object&&GameObject.display.removeChild(this.object)},t.prototype.updateContent=function(){},t}(GameObject);__reflect(Bullet.prototype,"Bullet");var DropItem;!function(e){e[e.NONE=0]="NONE",e[e.A=1]="A",e[e.B=2]="B"}(DropItem||(DropItem={}));var Enemy=function(e){function t(t,a,o,i,n,l,r){var s=e.call(this)||this;return s.object=null,s.initialY=0,s.dropMoney=0,s.hp=0,s.hpTextField=null,s.hpTextFieldColor=16711680,s.deadFlag=!1,s.bossFlag=!1,s.lastBossFlag=!1,s.addShapes=[],s.hp=l,s.dropMoney=r,s.setObject(t,a,o,i),s.setHpText(t,a,o,i),s.initialY=s.object.y,s}return __extends(t,e),t.prototype.setObject=function(e,t,a,o){0>=a?(a=1,console.log("widthが0以下です")):0>=o&&(o=1,console.log("heightが0以下です")),this.object=new egret.DisplayObjectContainer,this.object.width=a,this.object.height=o,this.object.anchorOffsetX+=a/2,this.object.anchorOffsetY+=o/2,this.object.x=e,this.object.y=t;var i=GameObject.display.getChildIndex(Background.I.shape)+1;GameObject.display.addChildAt(this.object,i)},t.prototype.setHpText=function(e,t,a,o){var i=100,n=.5;this.hpTextField=Util.myText(0,0,this.hp.toString(),i,n,this.hpTextFieldColor,!0),this.hpTextField.width/=n,this.hpTextField.height/=n,this.hpTextField.anchorOffsetX=this.hpTextField.width/2,this.hpTextField.anchorOffsetY=this.hpTextField.height/2,this.hpTextField.x=this.object.anchorOffsetX,this.hpTextField.y=this.object.anchorOffsetY,this.hpTextField.textAlign=egret.HorizontalAlign.CENTER,this.hpTextField.verticalAlign=egret.VerticalAlign.MIDDLE,this.object.addChild(this.hpTextField)},t.prototype.setRectShape=function(e,t,a,o,i,n){var l=new egret.Shape;this.addShapes.push(l),l.anchorOffsetX=this.object.anchorOffsetX,l.anchorOffsetY=this.object.anchorOffsetY,l.x=this.object.anchorOffsetX+e,l.y=this.object.anchorOffsetY+t,l.rotation=n||0,l.graphics.beginFill(i),l.graphics.drawRect(0,0,a,o),l.graphics.endFill(),this.object.addChildAt(l,0)},t.prototype.setCircleShape=function(e,t,a,o,i){0>=a&&(a=1,console.log("radiusが0以下です"));var n=new egret.Shape;this.addShapes.push(n),n.x=this.object.anchorOffsetX+e,n.y=this.object.anchorOffsetY+t,n.rotation=i||0,n.graphics.beginFill(o),n.graphics.drawCircle(0,0,a),n.graphics.endFill(),this.object.addChildAt(n,0)},t.prototype.updateContent=function(){this.hpTextField.text=this.hp.toString(),this.initialY>this.object.y&&(this.object.y=this.initialY)},t.prototype.addDestroyMethod=function(){var e=this;this.addShapes.forEach(function(t){e.object.removeChild(t),t=null}),this.shape&&(this.object.removeChildren(),this.shape=null),this.object&&GameObject.display.removeChild(this.object)},t}(GameObject);__reflect(Enemy.prototype,"Enemy");var RectEnemy=function(e){function t(t,a,o,i,n,l,r){var s=e.call(this,t,a,o,i,n,l,r)||this;return s.setRectShape(0,0,o,i,n,45),s}return __extends(t,e),t}(Enemy);__reflect(RectEnemy.prototype,"RectEnemy");var CircleEnemy=function(e){function t(t,a,o,i,n,l,r,s){var h=e.call(this,t,a,o,i,l,r,s)||this;return h.setCircleShape(0,0,n,l),h}return __extends(t,e),t}(Enemy);__reflect(CircleEnemy.prototype,"CircleEnemy");var DoubleCircle=function(e){function t(t,a,o,i,n,l,r,s){var h=e.call(this,t,a,o,i,l,r,s)||this;return h.setCircleShape(-n/1.5,0,n,l),h.setCircleShape(n/1.5,0,n,l),h}return __extends(t,e),t}(Enemy);__reflect(DoubleCircle.prototype,"DoubleCircle");var DoubleRect=function(e){function t(t,a,o,i,n,l,r){var s=e.call(this,t,a,o,i,n,l,r)||this;return s.setRectShape(-o/4,-i/4,o,i,n),s.setRectShape(o/4,i/4,o,i,n),s}return __extends(t,e),t}(Enemy);__reflect(DoubleRect.prototype,"DoubleRect");var TripleCircle=function(e){function t(t,a,o,i,n,l,r,s){var h=e.call(this,t,a,o,i,l,r,s)||this,c=n/1;return h.setCircleShape(0,c,n,l),h.setCircleShape(c,0,n/1.5,l),h.setCircleShape(-c,0,n/1.5,l),h}return __extends(t,e),t}(Enemy);__reflect(TripleCircle.prototype,"TripleCircle");var TripleRect=function(e){function t(t,a,o,i,n,l,r){var s=e.call(this,t,a,o,i,n,l,r)||this,h=1.35*o,c=1.35*i;return s.setRectShape(0,0,o,i,n,45),s.setRectShape(-h,c,o,i,n,45),s.setRectShape(h,c,o,i,n,45),s}return __extends(t,e),t}(Enemy);__reflect(TripleRect.prototype,"TripleRect");var Umibouzu=function(e){function t(t,a,o,i,n,l,r,s){var h=e.call(this,t,a,o,i,l,r,s)||this,c=1.5*n,p=Util.color(255,0,0);return h.setCircleShape(c,c,n/1.5,p),h.setCircleShape(-c,c,n/1.5,p),h.setCircleShape(0,2*c,n/1.5,p),h.setCircleShape(0,0,4*n,l),h}return __extends(t,e),t}(Enemy);__reflect(Umibouzu.prototype,"Umibouzu");var Ball=function(e){function t(t,a,o){var i=e.call(this)||this;return i.radius=null,i.setShape(t,a,o),i}return __extends(t,e),t.prototype.setShape=function(e,t,a){this.shape&&GameObject.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.x=e,this.shape.y=t,this.shape.graphics.beginFill(16711680),this.shape.graphics.drawCircle(0,0,a),this.shape.graphics.endFill(),GameObject.display.addChild(this.shape)},t.prototype.updateContent=function(){},t.I=null,t}(GameObject);__reflect(Ball.prototype,"Ball");var PhysicsBall=function(e){function t(t,a,o){var i=e.call(this)||this;return i.radius=null,i.setBody(t,a,o),i.setShape(t,a,o),i}return __extends(t,e),t.prototype.setBody=function(e,t,a){this.body=new p2.Body({mass:1,position:[e,t]}),this.bodyShape=new p2.Circle({radius:a,fixedRotation:!0}),this.body.addShape(this.bodyShape),CreateWorld.world.addBody(this.body)},t.prototype.setShape=function(e,t,a){this.shape&&GameObject.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.x=e,this.shape.y=t,this.shape.graphics.beginFill(16711680),this.shape.graphics.drawCircle(0,0,a),this.shape.graphics.endFill(),GameObject.display.addChild(this.shape)},t}(PhysicsObject);__reflect(PhysicsBall.prototype,"PhysicsBall");var MyBall=function(e){function t(t,a,o){var i=e.call(this,t,a,o)||this;return Ball.I=i,i}return __extends(t,e),t}(Ball);__reflect(MyBall.prototype,"MyBall");var Player=function(e){function t(a,o,i,n,l){var r=e.call(this)||this;return t.I=r,r.setPlayerObject(a,o,i,n),r.setShape(a,o,i,n,l),r.loadStatus(),t.object.scaleX=t.object.scaleY=.4,t.shotTimer=new egret.Timer(t.shotInterval,0),t.shotTimer.addEventListener(egret.TimerEvent.TIMER,r.shot,r),t.shotTimer.start(),GameObject.display.addEventListener(egret.TouchEvent.TOUCH_BEGIN,r.shot,r),r}return __extends(t,e),t.prototype.loadStatus=function(){t.bulletDamage=Util.loadLocalStrage("Player.bulletDamage",t.bulletDamage),t.bulletMoveSpeed=Util.loadLocalStrage("Player.bulletMoveSpeed",t.bulletMoveSpeed),t.salary=Util.loadLocalStrage("Player.salary",t.salary),t.shotInterval=Util.loadLocalStrage("Player.shotInterval",t.shotInterval),t.damageLevelUpCost=Util.loadLocalStrage("Player.damageLevelUpCost",t.damageLevelUpCost),t.speedLevelUpCost=Util.loadLocalStrage("Player.speedLevelUpCost",t.speedLevelUpCost),t.salaryLevelUpCost=Util.loadLocalStrage("Player.salaryLevelUpCost",t.salaryLevelUpCost),Kill.I.kill=Util.loadLocalStrage("Kill.I.kill",Kill.I.kill),Money.I.money=Util.loadLocalStrage("Money.I.money",Money.I.money),GameScene.enemyLevel=Util.loadLocalStrage("GameScene.enemyLevel",GameScene.enemyLevel),t.gameClear=Util.loadLocalStrage("Player.gameClear",t.gameClear),Kill.I.kill=8},t.prototype.resetStatus=function(){t.bulletDamage=1,t.bulletMoveSpeed=5,t.salary=1,t.shotInterval=1e3,t.damageLevelUpCost=100,t.speedLevelUpCost=100,t.salaryLevelUpCost=100,Kill.I.kill=0,Money.I.money=0,GameScene.enemyLevel=1,t.gameClear=0,t.shotTimer.stop(),t.shotTimer.removeEventListener(egret.TimerEvent.TIMER,this.shot,this),Util.saveLocalStrage("Player.bulletDamage",t.bulletDamage),Util.saveLocalStrage("Player.bulletMoveSpeed",t.bulletMoveSpeed),Util.saveLocalStrage("Player.salary",t.salary),Util.saveLocalStrage("Player.shotInterval",t.shotInterval),Util.saveLocalStrage("Player.damageLevelUpCost",t.damageLevelUpCost),Util.saveLocalStrage("Player.speedLevelUpCost",t.speedLevelUpCost),Util.saveLocalStrage("Player.salaryLevelUpCost",t.salaryLevelUpCost),Util.saveLocalStrage("Kill.I.kill",Kill.I.kill),Util.saveLocalStrage("Money.I.money",Money.I.money),Util.saveLocalStrage("GameScene.enemyLevel",GameScene.enemyLevel),Util.saveLocalStrage("Player.gameClear",t.gameClear),GameObject.transit=Game.init},t.prototype.setPlayerObject=function(e,a,o,i){t.object=new egret.DisplayObjectContainer,t.object.anchorOffsetX+=o/2,t.object.x=e,t.object.y=a,t.object.width=o,t.object.height=i,GameObject.display.addChild(t.object)},t.prototype.setShape=function(e,a,o,i,n){this.shape&&GameObject.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.x=0,this.shape.y=0,this.shape.graphics.beginFill(n),this.shape.graphics.drawRect(0,0,o,i),this.shape.graphics.endFill();var l=this.setMask(this.shape.x,this.shape.y,this.shape.width/3,this.shape.height/2,Util.color(0,0,0)),r=this.setMask(this.shape.x+2*this.shape.width/3,this.shape.y,this.shape.width/3,this.shape.height/2,Util.color(0,0,0));t.object.addChild(this.shape),t.object.addChild(l),t.object.addChild(r)},t.prototype.setMask=function(e,t,a,o,i){var n=new egret.Shape;return n.x=e,n.y=t,n.graphics.beginFill(i),n.graphics.drawRect(0,0,a,o),n.graphics.endFill(),n},t.prototype.shot=function(){var e=new Bullet(Game.width/2,Game.height/1.6,Game.width/24,Game.height/16,Util.color(255,255,0));t.bullet.push(e)},t.prototype.resetTimer=function(){t.shotTimer.stop(),t.shotTimer.removeEventListener(egret.TimerEvent.TIMER,this.shot,this),t.shotTimer=new egret.Timer(t.shotInterval,0),t.shotTimer.addEventListener(egret.TimerEvent.TIMER,this.shot,this),t.shotTimer.start()},t.prototype.addDestroyMethod=function(){GameObject.display.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.shot,this),t.shotTimer.stop(),t.shotTimer.removeEventListener(egret.TimerEvent.TIMER,this.shot,this),this.shape&&(t.object.removeChild(this.shape),t.object.removeChildren(),this.shape=null),t.object&&GameObject.display.removeChild(t.object)},t.prototype.updateContent=function(){var e=this;t.bullet.forEach(function(a){a.object.y-=t.bulletMoveSpeed,a.object.y<0&&a.destroy(),GameScene.enemy.forEach(function(o){0==a.collisionFlag&&0==o.deadFlag&&o.object.y>=a.object.y&&a.object.y>=0&&(o.hp-=t.bulletDamage,MyTween.knockBack(o.object),a.destroy(),a.collisionFlag=!0,o.hp<=0&&(o.hp=0,o.deadFlag=!0,Money.addMoney(o.dropMoney),new DropMoney(o.object.x,o.object.y,"+ "+o.dropMoney.toString()+" MONEY",80,.5,65339,!1,o.object),o.lastBossFlag?MyTween.lastBossFadeOut(o.object,o):MyTween.enemyFadeOut(o.object,o),Kill.I.addKill(),o.bossFlag&&new BossDeadEffect,o.lastBossFlag&&(o.lastBossFlag=!1,t.shotTimer.stop(),t.shotTimer.removeEventListener(egret.TimerEvent.TIMER,e.shot,e),GameObject.display.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.shot,e),t.gameClear=1,Util.saveLocalStrage("Player.gameClear",t.gameClear),new GameClearEffect)))})})},t.I=null,t.object=null,t.shotTimer=null,t.shotInterval=1e3,t.bullet=[],t.bulletDamage=1,t.bulletMoveSpeed=5,t.salary=1,t.damageLevelUpCost=100,t.speedLevelUpCost=100,t.salaryLevelUpCost=100,t.gameClear=0,t}(GameObject);__reflect(Player.prototype,"Player");var GameOver=function(e){function t(){var t=e.call(this)||this;return t.textGameOver=null,t.textScore=null,t.textColor=65339,t.textGameOver=Util.myText(Game.width/2,Game.height/2-50,"GAME OVER",100,.5,t.textColor,!0),t.textGameOver.anchorOffsetX=t.textGameOver.width/2,t.textGameOver.anchorOffsetY=t.textGameOver.height/2,GameObject.display.addChild(t.textGameOver),t.textScore=Util.myText(Game.width/2,Game.height/2+50,"SCORE : "+Score.I.score,100,.5,t.textColor,!0),t.textScore.anchorOffsetX=t.textScore.width/2,t.textScore.anchorOffsetY=t.textScore.height/2,GameObject.display.addChild(t.textScore),Score.I.score>=Score.I.bestScore&&window.localStorage.setItem("bestScore",Score.I.score.toFixed()),GameObject.display.once(egret.TouchEvent.TOUCH_TAP,function(e){return t.tap(e)},t),t}return __extends(t,e),t.prototype.onDestroy=function(){GameObject.display.removeChild(this.textGameOver),this.textGameOver=null,GameObject.display.removeChild(this.textScore),this.textScore=null},t.prototype.updateContent=function(){GameObject.display.addChild(this.textGameOver),GameObject.display.addChild(this.textScore)},t.prototype.tap=function(e){GameObject.transit=Game.init,this.destroy()},t}(GameObject);__reflect(GameOver.prototype,"GameOver");var RandomEnemy;!function(e){e[e.RECT=0]="RECT",e[e.CIRCLE=1]="CIRCLE",e[e.DOUBLE_RECT=2]="DOUBLE_RECT",e[e.DOUBLE_CIRCLE=3]="DOUBLE_CIRCLE",e[e.TRIPLE_RECT=4]="TRIPLE_RECT",e[e.TRIPLE_CIRCLE=5]="TRIPLE_CIRCLE",e[e.UMIBOUZU=6]="UMIBOUZU",e[e.BOSS_RECT=7]="BOSS_RECT",e[e.BOSS_CIRCLE=8]="BOSS_CIRCLE",e[e.BOSS_DOUBLE_RECT=9]="BOSS_DOUBLE_RECT",e[e.BOSS_DOUBLE_CIRCLE=10]="BOSS_DOUBLE_CIRCLE",e[e.BOSS_TRIPLE_RECT=11]="BOSS_TRIPLE_RECT",e[e.BOSS_TRIPLE_CIRCLE=12]="BOSS_TRIPLE_CIRCLE",e[e.BOSS_UMIBOUZU=13]="BOSS_UMIBOUZU",e[e.FINAL=14]="FINAL"}(RandomEnemy||(RandomEnemy={}));var GameScene=function(e){function t(){var a=e.call(this)||this;return t.I=a,t.enemyLevel=Util.loadLocalStrage("GameScene.enemyLevel",t.enemyLevel),a.createStage(),a}return __extends(t,e),t.prototype.createStage=function(){t.createEnemy()},t.createEnemy=function(){var e,a=Util.randomInt(RandomEnemy.RECT,t.enemyLevel),o=Game.width/6,i=o,n=o;switch(Kill.I.kill){case 10:a=RandomEnemy.BOSS_RECT,t.enemyLevel=RandomEnemy.CIRCLE,Util.saveLocalStrage("GameScene.enemyLevel",t.enemyLevel);break;case 50:a=RandomEnemy.BOSS_CIRCLE,t.enemyLevel=RandomEnemy.DOUBLE_RECT,Util.saveLocalStrage("GameScene.enemyLevel",t.enemyLevel);break;case 100:a=RandomEnemy.BOSS_DOUBLE_RECT,t.enemyLevel=RandomEnemy.DOUBLE_CIRCLE,Util.saveLocalStrage("GameScene.enemyLevel",t.enemyLevel);break;case 200:a=RandomEnemy.BOSS_DOUBLE_CIRCLE,t.enemyLevel=RandomEnemy.TRIPLE_RECT,Util.saveLocalStrage("GameScene.enemyLevel",t.enemyLevel);break;case 300:a=RandomEnemy.BOSS_TRIPLE_RECT,t.enemyLevel=RandomEnemy.TRIPLE_CIRCLE,Util.saveLocalStrage("GameScene.enemyLevel",t.enemyLevel);break;case 400:a=RandomEnemy.BOSS_TRIPLE_CIRCLE,t.enemyLevel=RandomEnemy.UMIBOUZU,Util.saveLocalStrage("GameScene.enemyLevel",t.enemyLevel);break;case 500:a=RandomEnemy.BOSS_UMIBOUZU,t.enemyLevel=RandomEnemy.FINAL,Util.saveLocalStrage("GameScene.enemyLevel",t.enemyLevel)}switch(a){case RandomEnemy.RECT:e=new RectEnemy(Game.width/2,Game.height/4,Game.width/6,Game.height/8,2686975,10+1*Kill.I.kill,50+1*Kill.I.kill),t.enemy.push(e);break;case RandomEnemy.CIRCLE:o=Game.width/8,i=o,n=o,e=new CircleEnemy(Game.width/2,Game.height/4,i,n,o,11206486,15+1*Kill.I.kill,80+1*Kill.I.kill),t.enemy.push(e);break;case RandomEnemy.DOUBLE_RECT:e=new DoubleRect(Game.width/2,Game.height/4,Game.width/6,Game.height/8,2686975,50+2*Kill.I.kill,300+2*Kill.I.kill),t.enemy.push(e);break;case RandomEnemy.DOUBLE_CIRCLE:o=Game.width/8,i=o,n=o,e=new DoubleCircle(Game.width/2,Game.height/4,i,n,o,11206486,80+2*Kill.I.kill,500+2*Kill.I.kill),t.enemy.push(e);break;case RandomEnemy.TRIPLE_RECT:e=new TripleRect(Game.width/2,Game.height/4,Game.width/6,Game.height/8,2686975,200+3*Kill.I.kill,1e3+3*Kill.I.kill),t.enemy.push(e);break;case RandomEnemy.TRIPLE_CIRCLE:o=Game.width/8,i=o,n=o,e=new TripleCircle(Game.width/2,Game.height/4,i,n,o,11206486,300+4*Kill.I.kill,1500+4*Kill.I.kill),t.enemy.push(e);break;case RandomEnemy.UMIBOUZU:new BossEntryEffect,o=Game.width/20,i=o,n=o,e=new Umibouzu(Game.width/2,Game.height/4,i,n,o,16777e3,100,1500),t.enemy.push(e),e.bossFlag=!0;break;case RandomEnemy.BOSS_RECT:new BossEntryEffect,e=new RectEnemy(Game.width/2,Game.height/4,Game.width/3.6,Game.height/5.2,Util.color(255,255,0),100,1500),t.enemy.push(e),e.bossFlag=!0;break;case RandomEnemy.BOSS_CIRCLE:new BossEntryEffect,o=Game.width/5,i=o,n=o,e=new CircleEnemy(Game.width/2,Game.height/4,i,n,o,Util.color(255,255,0),300,2e3),t.enemy.push(e),e.bossFlag=!0;break;case RandomEnemy.BOSS_DOUBLE_RECT:new BossEntryEffect,e=new DoubleRect(Game.width/2,Game.height/4,Game.width/6,Game.height/8,Util.color(255,255,0),1e3,5e3),t.enemy.push(e),e.bossFlag=!0;break;case RandomEnemy.BOSS_DOUBLE_CIRCLE:new BossEntryEffect,o=Game.width/8,i=o,n=o,e=new DoubleCircle(Game.width/2,Game.height/4,i,n,o,Util.color(255,255,0),2e3,7e3),t.enemy.push(e),e.bossFlag=!0;break;case RandomEnemy.BOSS_TRIPLE_RECT:new BossEntryEffect,e=new TripleRect(Game.width/2,Game.height/4,Game.width/6,Game.height/8,Util.color(255,255,0),5e3,1e4),t.enemy.push(e),e.bossFlag=!0;break;case RandomEnemy.BOSS_TRIPLE_CIRCLE:new BossEntryEffect,o=Game.width/8,i=o,n=o,e=new TripleCircle(Game.width/2,Game.height/4,i,n,o,Util.color(255,255,0),7e3,15e3),t.enemy.push(e),e.bossFlag=!0;break;case RandomEnemy.BOSS_UMIBOUZU:new BossEntryEffect,o=Game.width/8,i=o,n=o,e=new Umibouzu(Game.width/2,Game.height/4,i,n,o,Util.color(255,255,0),1e4,2e4),t.enemy.push(e),e.bossFlag=!0,e.lastBossFlag=!0}},t.prototype.addDestroyMethod=function(){t.enemy=[]},t.prototype.updateContent=function(){},t.I=null,t.enemyLevel=1,t.enemy=[],t}(GameObject);__reflect(GameScene.prototype,"GameScene");var Box=function(e){function t(t,a,o,i,n){var l=e.call(this)||this;return l.setShape(t,a,o,i,n),l}return __extends(t,e),t.prototype.setShape=function(e,t,a,o,i){this.shape&&GameObject.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.anchorOffsetX+=a/2,this.shape.anchorOffsetY+=o/2,this.shape.x=e,this.shape.y=t,this.shape.graphics.beginFill(i),this.shape.graphics.drawRect(0,0,a,o),this.shape.graphics.endFill(),GameObject.display.addChild(this.shape)},t}(GameObject);__reflect(Box.prototype,"Box");var PhysicsBox=function(e){function t(t,a,o,i,n){var l=e.call(this)||this;return l.x=t,l.y=a,l.width=o,l.height=i,l.color=n,l.setShape(l.width,l.height),l}return __extends(t,e),t.prototype.setBody=function(e,t,a,o){this.body=new p2.Body({mass:1,position:[e,t],type:p2.Body.STATIC}),this.bodyShape=new p2.Box({width:a,height:o}),this.body.addShape(this.bodyShape),CreateWorld.world.addBody(this.body)},t.prototype.setShape=function(e,t){this.shape&&GameObject.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.anchorOffsetX+=e/2,this.shape.anchorOffsetY+=t/2,this.shape.x=this.body.position[0],this.shape.y=this.body.position[1],this.shape.graphics.beginFill(this.color),this.shape.graphics.drawRect(0,0,e,t),this.shape.graphics.endFill(),GameObject.display.addChild(this.shape)},t}(PhysicsObject);__reflect(PhysicsBox.prototype,"PhysicsBox");var MyBox=function(e){function t(t,a,o,i,n){return e.call(this,t,a,o,i,n)||this}return __extends(t,e),t.prototype.updateContent=function(){},t}(Box);__reflect(MyBox.prototype,"MyBox");var MyTween=function(){function e(){}return e.fadeOut=function(e,t){void 0==t&&(t=null),egret.Tween.get(e).to({alpha:.5},1e3).call(function(){egret.Tween.removeTweens(e),(void 0!=t||null!=t)&&t.destroy()})},e.enemyFadeOut=function(e,t){void 0==t&&(t=null),egret.Tween.get(e).to({alpha:.2},1e3).call(function(){egret.Tween.removeTweens(e),(void 0!=t||null!=t)&&(t.destroy(),GameScene.createEnemy())})},e.lastBossFadeOut=function(e,t){void 0==t&&(t=null),egret.Tween.get(e).to({alpha:.2},3e3).call(function(){egret.Tween.removeTweens(e),(void 0!=t||null!=t)&&t.destroy()})},e.knockBack=function(e){var t=e.y;egret.Tween.get(e).to({y:t-50},50,egret.Ease.elasticIn).to({y:t},50,egret.Ease.sineIn)},e.dropMoneyTextFadeOut=function(e,t){void 0==t&&(t=null);var a=e.y;egret.Tween.get(e).to({y:a-150},100).to({alpha:.2},900).call(function(){egret.Tween.removeTweens(e),(void 0!=t||null!=t)&&t.destroy()})},e.enemyRotate=function(e,t){e.y;egret.Tween.get(e,{loop:!0}).to({rotation:360},t)},e.autoSaveTextFadeInOut=function(e,t){void 0==t&&(t=null),e.alpha=0,egret.Tween.get(e).to({alpha:1},10).wait(2e3).to({alpha:0},2e3).call(function(){egret.Tween.removeTweens(e)})},e.slide=function(e,t,a){var o=e.x,i=t;egret.Tween.get(e).to({x:o+i},a).call(function(){egret.Tween.removeTweens(e)})},e.bossSlide=function(e,t,a,o){var i=e.x,n=t;egret.Tween.get(e).to({x:i+n},a).to({alpha:0},o).call(function(){egret.Tween.removeTweens(e)})},e.bossTextSlide=function(e,t,a){var o=e.x,i=t;egret.Tween.get(e).to({x:o+i},a).wait(2400).to({x:o+3*i},a).call(function(){egret.Tween.removeTweens(e)})},e.backgroundFadeOut=function(e,t){egret.Tween.get(e).to({alpha:.1},0).wait(4e3).to({alpha:0},t).call(function(){egret.Tween.removeTweens(e),BossEntryEffect.I.destroy()})},e.bossDeadEffect=function(e){egret.Tween.get(e).to({alpha:.5},50).to({alpha:0},2e3).call(function(){egret.Tween.removeTweens(e),BossDeadEffect.I.destroy()})},e.gameClear=function(e,t){var a=this;egret.Tween.get(e).to({alpha:t},5e3).call(function(){egret.Tween.removeTweens(e),GameObject.display.once(egret.TouchEvent.TOUCH_TAP,GameClearEffect.I.tap,a)})},e}();__reflect(MyTween.prototype,"MyTween");var Util=function(){function e(){}return e.init=function(e){this.height=e.stage.stageHeight,this.width=e.stage.stageWidth,this.ui=e},e.random=function(e,t){return e+Math.random()*(t-e)},e.randomInt=function(e,t){return Math.floor(e+Math.random()*(t+.999-e))},e.clamp=function(e,t,a){return t>e&&(e=t),e>a&&(e=a),e},e.color=function(e,t,a){var o=e.toFixed(0),i=t.toFixed(0),n=a.toFixed(0);o=e.toString(16),i=t.toString(16),n=a.toString(16),o=("00"+o).slice(-2),i=("00"+i).slice(-2),n=("00"+n).slice(-2);var l=parseInt("0x"+o+i+n,16);return l},e.myText=function(e,t,a,o,i,n,l){var r=new egret.TextField;return r.x=e,r.y=t,r.text=a,r.bold=l,r.size=o,r.scaleX=i,r.scaleY=i,r.textColor=n,r.multiline=!0,r},e.myStrokeText=function(e,t,a,o,i,n,l,r,s){var h=new egret.TextField;return h.x=e,h.y=t,h.scaleX=i,h.scaleY=i,h.textFlow=[{text:a,style:{textColor:n,size:o,fontFamily:l,strokeColor:r,stroke:s}}],h},e.saveLocalStrage=function(e,t){window.localStorage.setItem(e,t.toString())},e.loadLocalStrage=function(e,t){var a=window.localStorage.getItem(e);null==a&&(a=t.toString(),window.localStorage.setItem(e,a.toString()));var o=parseInt(a);return o},e}();__reflect(Util.prototype,"Util");var Button=function(e){function t(t,a,o,i,n){var l=e.call(this)||this;return l.object=null,l.indexText=null,l.indexTextColor=16777215,l.costText=null,l.costTextColor=16777215,l.parameterText=null,l.parameterTextColor=16777215,l.mask=null,l.onMask=!1,l.setObject(t,a,o,i),l.object.addEventListener(egret.TouchEvent.TOUCH_BEGIN,l.tap,l),l}return __extends(t,e),t.prototype.setObject=function(e,t,a,o){0>=a?(a=1,console.log("widthが0以下です")):0>=o&&(o=1,console.log("heightが0以下です")),this.object=new egret.DisplayObjectContainer,this.object.width=a,this.object.height=o,this.object.anchorOffsetX+=a/2,this.object.anchorOffsetY+=o/2,this.object.x=e,this.object.y=t,this.object.touchEnabled=!0,GameObject.display.addChild(this.object)},t.prototype.setShape=function(e,t,a,o,i){this.shape&&GameObject.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.x=0,this.shape.y=0,this.shape.graphics.beginFill(i),this.shape.graphics.drawRoundRect(0,0,a,o,30),this.shape.graphics.endFill(),this.object.addChild(this.shape)},t.prototype.setMask=function(e,t,a,o){var i=Util.color(0,0,0);this.mask=new egret.Shape,this.mask.x=0,this.mask.y=0,this.mask.alpha=0,this.mask.graphics.beginFill(i),this.mask.graphics.drawRoundRect(0,0,a,o,30),this.mask.graphics.endFill(),this.object.addChild(this.mask)},t.prototype.setIndexText=function(e,t,a,o,i){var n=80,l=.5;this.indexText=Util.myText(e,t,i,n,l,this.indexTextColor,!0),this.indexText.width=this.object.width/l,this.indexText.height=this.object.height/l,this.indexText.textAlign=egret.HorizontalAlign.CENTER,this.object.addChild(this.indexText)},t.prototype.setParameterText=function(e,t,a,o,i){var n=60,l=.5;this.parameterText=Util.myText(e,t,i.toString(),n,l,this.parameterTextColor,!1),this.parameterText.width=this.object.width/l,this.parameterText.height=this.object.height/l,this.parameterText.textAlign=egret.HorizontalAlign.CENTER,this.object.addChild(this.parameterText)},t.prototype.setCostText=function(e,t,a,o,i){var n=60,l=.5;this.costText=Util.myText(e,t,"Lv.UP\n MONEY\n"+i.toString(),n,l,this.costTextColor,!1),this.costText.width=this.object.width/l,this.costText.height=this.object.height/l,this.costText.textAlign=egret.HorizontalAlign.CENTER,this.costText.verticalAlign=egret.VerticalAlign.MIDDLE,this.object.addChild(this.costText)},t.prototype.addDestroyMethod=function(){this.object.hasEventListener&&this.object.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.tap,this),this.object&&(this.object.removeChild(this.shape),this.object.removeChildren(),this.shape=null),this.object&&GameObject.display.removeChild(this.object)},t}(GameObject);__reflect(Button.prototype,"Button");var LevelUpBulletDamageButton=function(e){function t(t,a,o,i,n,l){var r=e.call(this,t,a,o,i,l)||this;return r.setShape(t,a,o,i,n),r.setIndexText(0,-100,o,i,l),r.setParameterText(0,-50,o,i,Player.bulletDamage),r.setCostText(0,0,o,i,Player.damageLevelUpCost),r.setMask(t,a,o,i),r}return __extends(t,e),t.prototype.updateContent=function(){this.parameterText.text=Player.bulletDamage.toString(),this.costText.text="Lv.UP\n MONEY\n"+Player.damageLevelUpCost.toString(),Money.I.money>=Player.damageLevelUpCost?this.mask.alpha=0:this.mask.alpha=.5},t.prototype.tap=function(){Money.I.money>=Player.damageLevelUpCost&&(Money.I.money-=Player.damageLevelUpCost,Player.bulletDamage+=1,Player.damageLevelUpCost+=100,Util.saveLocalStrage("Player.bulletDamage",Player.bulletDamage),Util.saveLocalStrage("Player.damageLevelUpCost",Player.damageLevelUpCost))},t}(Button);__reflect(LevelUpBulletDamageButton.prototype,"LevelUpBulletDamageButton");var LevelUpBulletSpeedButton=function(e){function t(t,a,o,i,n,l){var r=e.call(this,t,a,o,i,l)||this;return r.setShape(t,a,o,i,n),r.setIndexText(0,-100,o,i,l),r.setParameterText(0,-50,o,i,Player.bulletMoveSpeed),r.setCostText(0,0,o,i,Player.speedLevelUpCost),r.setMask(t,a,o,i),r}return __extends(t,e),t.prototype.updateContent=function(){this.parameterText.text=Player.bulletMoveSpeed.toString(),this.costText.text="Lv.UP\n MONEY\n"+Player.speedLevelUpCost.toString(),Money.I.money>=Player.speedLevelUpCost?this.mask.alpha=0:this.mask.alpha=.5},t.prototype.tap=function(){Money.I.money>=Player.speedLevelUpCost&&(Money.I.money-=Player.speedLevelUpCost,Player.bulletMoveSpeed+=1,Player.speedLevelUpCost+=100,Player.shotInterval>=100&&(Player.shotInterval=1e3-5*Player.bulletMoveSpeed,Player.shotInterval<100&&(Player.shotInterval=100)),Player.I.resetTimer(),Util.saveLocalStrage("Player.bulletMoveSpeed",Player.bulletMoveSpeed),Util.saveLocalStrage("Player.speedLevelUpCost",Player.speedLevelUpCost),Util.saveLocalStrage("Player.shotInterval",Player.shotInterval))},t}(Button);__reflect(LevelUpBulletSpeedButton.prototype,"LevelUpBulletSpeedButton");var LevelUpSalaryButton=function(e){function t(t,a,o,i,n,l){var r=e.call(this,t,a,o,i,l)||this;return r.setShape(t,a,o,i,n),r.setIndexText(0,-100,o,i,l),r.setParameterText(0,-50,o,i,Player.bulletMoveSpeed),r.setCostText(0,0,o,i,Player.speedLevelUpCost),r.setMask(t,a,o,i),r}return __extends(t,e),t.prototype.updateContent=function(){this.parameterText.text=Player.salary.toString()+"/sec",this.costText.text="Lv.UP\n MONEY\n"+Player.salaryLevelUpCost.toString(),Money.I.money>=Player.salaryLevelUpCost?this.mask.alpha=0:this.mask.alpha=.5},t.prototype.tap=function(){Money.I.money>=Player.salaryLevelUpCost&&(Money.I.money-=Player.salaryLevelUpCost,Player.salary+=1,Player.salaryLevelUpCost+=100,Util.saveLocalStrage("Player.salary",Player.salary),Util.saveLocalStrage("Player.salaryLevelUpCost",Player.salaryLevelUpCost))},t}(Button);__reflect(LevelUpSalaryButton.prototype,"LevelUpSalaryButton");var ResetButton=function(e){function t(t,a,o,i,n,l){var r=e.call(this,t,a,o,i,l)||this;return r.setShape(t,a,o,i,n),r.setIndexText(0,0,o,i,l),r.shapeColor=n,r.setMask(t,a,o,i),r}return __extends(t,e),t.prototype.setIndexText=function(e,t,a,o,i){var n=60,l=.5;this.indexText=Util.myText(e,t,i,n,l,this.indexTextColor,!1),this.indexText.width=this.object.width/l,this.indexText.height=this.object.height/l,this.indexText.textAlign=egret.HorizontalAlign.CENTER,this.indexText.verticalAlign=egret.VerticalAlign.MIDDLE,this.object.addChild(this.indexText)
},t.prototype.tap=function(){egret.Tween.removeAllTweens(),Player.I.resetStatus()},t.prototype.updateContent=function(){1==Player.gameClear?(this.mask.alpha=0,this.object.touchEnabled=!0):(this.mask.alpha=.5,this.object.touchEnabled=!1)},t}(Button);__reflect(ResetButton.prototype,"ResetButton");var CheckDate=function(e){function t(){var a=e.call(this)||this;return a.text=null,a.textColor=16777215,a.s=0,t.I=a,a.getDate(),t.dateTimer=new egret.Timer(t.dateInterval,0),t.dateTimer.addEventListener(egret.TimerEvent.TIMER,a.save,a),t.dateTimer.start(),a}return __extends(t,e),t.prototype.getDate=function(){var e=window.localStorage.getItem("getLastDate");(null==e||void 0==e)&&(e=(new Date).getTime().toString(),window.localStorage.setItem("getLastDate",e));var t=parseInt(e),a=new Date;this.s=(a.getTime()-t)/1e3,this.s=parseInt(this.s.toString()),Money.I.money+=this.s*Player.salary,e=(new Date).getTime().toString(),window.localStorage.setItem("getLastDate",e),t=parseInt(e),this.s=(a.getTime()-t)/1e3,this.s=parseInt(this.s.toString()),this.text=Util.myText(Game.width/1.4,0,"saving...",80,.5,this.textColor,!0),this.text.alpha=0,GameObject.display.addChild(this.text)},t.prototype.save=function(){t.timerCounter+=1,this.salary(),this.autoSaveText()},t.prototype.updateContent=function(){},t.prototype.addDestroyMethod=function(){t.dateTimer.stop(),t.dateTimer.removeEventListener(egret.TimerEvent.TIMER,this.save,this)},t.prototype.salary=function(){Money.I.money+=Player.salary,t.timerCounter>=10&&Util.saveLocalStrage("Money.I.money",Money.I.money)},t.prototype.autoSaveText=function(){if(t.timerCounter>=10){var e=(new Date).getTime().toString();window.localStorage.setItem("getLastDate",e),t.timerCounter=0,MyTween.autoSaveTextFadeInOut(this.text)}},t.I=null,t.dateTimer=null,t.dateInterval=1e3,t.timerCounter=0,t}(GameObject);__reflect(CheckDate.prototype,"CheckDate");var BossEntryEffect=function(e){function t(){var a=e.call(this)||this;return a.upperObject=null,a.lowerObject=null,a.background=null,a.leftText=null,a.rightText=null,a.textColor=16711680,t.I=a,a.setBackground(),a.setObject(),a.setUpperShape(0,0,Game.width/6,Game.height/12),a.setLowerShape(0,0,Game.width/6,Game.height/12),a.setRightText(),a.setLeftText(),a}return __extends(t,e),t.prototype.setObject=function(){this.upperObject=new egret.DisplayObjectContainer,this.lowerObject=new egret.DisplayObjectContainer,this.upperObject.x=Game.width,this.lowerObject.y=Game.height-Game.height/12,GameObject.display.addChild(this.upperObject),GameObject.display.addChild(this.lowerObject)},t.prototype.setUpperShape=function(e,t,a,o){for(var i,n=0;20>n;n++){i=n%2==0?0:16776960;var l=new egret.Shape;l.graphics.beginFill(i),l.graphics.drawRect(a*n,t,a,o),l.graphics.endFill(),this.upperObject.addChild(l),MyTween.bossSlide(l,-2500,3e3,1e3)}},t.prototype.setLowerShape=function(e,t,a,o){for(var i,n=0;50>n;n++){i=n%2==0?0:16776960;var l=new egret.Shape;l.graphics.beginFill(i),l.graphics.drawRect(-a*n,t,a,o),l.graphics.endFill(),this.lowerObject.addChild(l),MyTween.bossSlide(l,2500,3e3,1e3)}},t.prototype.setLeftText=function(){var e=120,t=1;this.leftText=Util.myText(0,0,"BO",e,t,this.textColor,!0),this.leftText.width/=t,this.leftText.height/=t,this.leftText.anchorOffsetX=this.leftText.width,this.leftText.anchorOffsetY=this.leftText.height/2,this.leftText.x=0,this.leftText.y=Game.height/2,this.leftText.alpha=1,GameObject.display.addChild(this.leftText),MyTween.bossTextSlide(this.leftText,Game.width/2,300)},t.prototype.setRightText=function(){var e=120,t=1;this.rightText=Util.myText(0,0,"SS",e,t,this.textColor,!0),this.rightText.width/=t,this.rightText.height/=t,this.rightText.anchorOffsetX=0,this.rightText.anchorOffsetY=this.rightText.height/2,this.rightText.x=Game.width,this.rightText.y=Game.height/2,this.rightText.alpha=1,GameObject.display.addChild(this.rightText),MyTween.bossTextSlide(this.rightText,-Game.width/2,300)},t.prototype.setBackground=function(){var e=16777184;this.background=new egret.Shape,this.background.graphics.beginFill(e),this.background.graphics.drawRect(0,0,Game.width,Game.height),this.background.graphics.endFill(),this.background.alpha=.1,GameObject.display.addChild(this.background),MyTween.backgroundFadeOut(this.background,1500)},t.prototype.addDestroyMethod=function(){this.upperObject&&(this.upperObject.removeChildren(),GameObject.display.removeChild(this.upperObject)),this.lowerObject&&(this.lowerObject.removeChildren(),GameObject.display.removeChild(this.lowerObject)),this.background&&GameObject.display.removeChild(this.background)},t.prototype.updateContent=function(){},t.I=null,t}(GameObject);__reflect(BossEntryEffect.prototype,"BossEntryEffect");var BossDeadEffect=function(e){function t(){var a=e.call(this)||this;return a.background=null,t.I=a,a.setBackground(),a}return __extends(t,e),t.prototype.setBackground=function(){var e=16777184;this.background=new egret.Shape,this.background.graphics.beginFill(e),this.background.graphics.drawRect(0,0,Game.width,Game.height),this.background.graphics.endFill(),this.background.alpha=.5,GameObject.display.addChild(this.background),MyTween.bossDeadEffect(this.background)},t.prototype.addDestroyMethod=function(){this.background&&GameObject.display.removeChild(this.background)},t.prototype.updateContent=function(){},t.I=null,t}(GameObject);__reflect(BossDeadEffect.prototype,"BossDeadEffect");var GameClearEffect=function(e){function t(){var a=e.call(this)||this;return a.background=null,a.text=null,a.textColor=Util.color(220,20,60),t.I=a,a.setBackground(),a.setText(),a}return __extends(t,e),t.prototype.setBackground=function(){var e=16777184;this.background=new egret.Shape,this.background.graphics.beginFill(e),this.background.graphics.drawRect(0,0,Game.width,Game.height),this.background.graphics.endFill(),this.background.alpha=.5,GameObject.display.addChild(this.background),MyTween.gameClear(this.background,1)},t.prototype.setText=function(){var e=60,t=1;this.text=Util.myText(0,0,"Thank You for Playing",e,t,this.textColor,!0),this.text.width/=t,this.text.height/=t,this.text.anchorOffsetX=this.text.width/2,this.text.anchorOffsetY=this.text.height/2,this.text.x=Game.width/2,this.text.y=Game.height/2,this.text.alpha=.1,GameObject.display.addChild(this.text),MyTween.gameClear(this.text,1)},t.prototype.tap=function(){GameObject.transit=Game.init},t.prototype.addDestroyMethod=function(){GameObject.display.removeChild(this.text),this.text=null,GameObject.display.removeChild(this.background),this.background=null},t.prototype.updateContent=function(){},t.I=null,t}(GameObject);__reflect(GameClearEffect.prototype,"GameClearEffect");var Kill=function(e){function t(){var a=e.call(this)||this;return a.kill=0,a.text=null,a.textColor=65339,t.I=a,a.textColor=Util.color(0,255,0),a.kill=Util.loadLocalStrage("Kill.I.kill",t.I.kill),a.text=Util.myText(0,50,"KILL : "+a.kill.toString()+" / 500",100,.5,a.textColor,!0),GameObject.display.addChild(a.text),a}return __extends(t,e),t.prototype.addDestroyMethod=function(){GameObject.display.removeChild(this.text),this.text=null},t.prototype.updateContent=function(){this.text.text="KILL : "+this.kill.toString()+" / 500"},t.prototype.addKill=function(){this.kill+=1,Util.saveLocalStrage("Kill.I.kill",t.I.kill)},t.I=null,t}(GameObject);__reflect(Kill.prototype,"Kill");var Money=function(e){function t(){var a=e.call(this)||this;return a.money=0,a.bestMoney=0,a.text=null,a.textBest=null,a.textColor=65339,a.textColor=Util.color(0,255,0),t.I=a,a.money=Util.loadLocalStrage("Money.I.money",t.I.money),a.text=Util.myText(0,0,"MONEY : 0",100,.5,a.textColor,!0),GameObject.display.addChild(a.text),a}return __extends(t,e),t.prototype.addDestroyMethod=function(){GameObject.display.removeChild(this.text),this.text=null},t.prototype.updateContent=function(){this.text.text="MONEY : "+this.money.toFixed()},t.addMoney=function(e){t.I.money+=e,Util.saveLocalStrage("Money.I.money",t.I.money)},t.I=null,t}(GameObject);__reflect(Money.prototype,"Money");var DropMoney=function(e){function t(t,a,o,i,n,l,r,s){var h=e.call(this)||this;return h.text=null,h.textColor=65339,h.textColor=Util.color(0,255,0),h.display=s,h.text=Util.myText(t,a,o,i,n,l,!0),h.text.width/=n,h.text.height/=n,h.text.anchorOffsetX=h.text.width/2,h.text.anchorOffsetY=h.text.height/2,h.text.x=h.display.anchorOffsetX,h.text.y=h.display.anchorOffsetY,h.text.textAlign=egret.HorizontalAlign.CENTER,h.text.verticalAlign=egret.VerticalAlign.MIDDLE,s.addChild(h.text),MyTween.dropMoneyTextFadeOut(h.text,h),h}return __extends(t,e),t.prototype.addDestroyMethod=function(){this.display.removeChild(this.text)},t.prototype.updateContent=function(){},t}(GameObject);__reflect(DropMoney.prototype,"DropMoney");var Score=function(e){function t(){var a=e.call(this)||this;a.score=0,a.bestScore=0,a.text=null,a.textBest=null,a.textColor=65339,a.textColor=Util.color(0,255,0),t.I=a,a.score=0,a.text=Util.myText(0,0,"SCORE : 0",100,.5,a.textColor,!0),GameObject.display.addChild(a.text);var o=window.localStorage.getItem("bestScore");return null==o&&(o="0",window.localStorage.setItem("bestScore",o)),a.bestScore=parseInt(o),a.textBest=Util.myText(0,50,"BEST : "+o,100,.5,a.textColor,!0),GameObject.display.addChild(a.textBest),a}return __extends(t,e),t.prototype.onDestroy=function(){GameObject.display.removeChild(this.text),this.text=null,GameObject.display.removeChild(this.textBest),this.textBest=null},t.prototype.updateContent=function(){this.text.text="SCORE : "+this.score.toFixed(),this.bestScore<this.score&&(this.bestScore=this.score,this.textBest.text="BEST : "+this.score.toFixed())},t.prototype.addScore=function(){this.score+=1},t.I=null,t}(GameObject);__reflect(Score.prototype,"Score");